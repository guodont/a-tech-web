"use strict";function runBlock(a){a.defaults.headers.get={"Content-Type":"application/json;charset=utf-8",Accept:"application/json"},a.defaults.headers.post={"Content-Type":"application/json;charset=utf-8",Accept:"application/json"},a.defaults.headers.put={"Content-Type":"application/json;charset=utf-8",Accept:"application/json"}}angular.module("aTechClientApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","ngNotify","ngImgCrop"]).constant("apiUrl","http://sxnk110.workerhub.cn:9000/api/v1").constant("cloudUrl","http://storage.workerhub.cn/").filter("trustUrl",["$sce",function(a){return function(b){return a.trustAsResourceUrl(b)}}]).config(["$routeProvider","$locationProvider",function(a,b){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl",controllerAs:"about"}).when("/login",{templateUrl:"views/login.html",controller:"LoginCtrl",controllerAs:"login"}).when("/registerFirstStep",{templateUrl:"views/registerfirststep.html",controller:"RegisterfirststepCtrl",controllerAs:"registerFirstStep"}).when("/registerSecondStep",{templateUrl:"views/registersecondstep.html",controller:"RegistersecondstepCtrl",controllerAs:"registerSecondStep"}).when("/usercenter/profile",{templateUrl:"views/usercenter/profile.html",controller:"UsercenterProfileCtrl",controllerAs:"usercenter/profile"}).when("/usercenter/changepassword",{templateUrl:"views/usercenter/changepassword.html",controller:"UsercenterChangepasswordCtrl",controllerAs:"usercenter/changepassword"}).when("/usercenter/myquestion",{templateUrl:"views/usercenter/myquestion.html",controller:"UsercenterMyquestionCtrl",controllerAs:"usercenter/myquestion"}).when("/usercenter/mytrade",{templateUrl:"views/usercenter/mytrade.html",controller:"UsercenterMytradeCtrl",controllerAs:"usercenter/mytrade"}).when("/usercenter/message",{templateUrl:"views/usercenter/message.html",controller:"UsercenterMessageCtrl",controllerAs:"usercenter/message"}).when("/usercenter/index",{templateUrl:"views/usercenter/index.html",controller:"UsercenterIndexCtrl",controllerAs:"usercenter/index"}).when("/trade",{templateUrl:"views/trade.html",controller:"TradeCtrl",controllerAs:"trade"}).when("/trade/post",{templateUrl:"views/trade/post.html",controller:"TradePostCtrl",controllerAs:"trade/post"}).when("/trade/:id",{templateUrl:"views/trade/info.html",controller:"TradeInfoCtrl",controllerAs:"trade/info"}).when("/question",{templateUrl:"views/question.html",controller:"QuestionCtrl",controllerAs:"question"}).when("/question/post",{templateUrl:"views/question/post.html",controller:"QuestionPostCtrl",controllerAs:"question/post"}).when("/question/:id",{templateUrl:"views/question/info.html",controller:"QuestionInfoCtrl",controllerAs:"question/info"}).when("/video",{templateUrl:"views/video.html",controller:"VideoCtrl",controllerAs:"video"}).when("/article",{templateUrl:"views/article.html",controller:"ArticleCtrl",controllerAs:"article"}).when("/article/:id",{templateUrl:"views/article/info.html",controller:"ArticleInfoCtrl",controllerAs:"article/info"}).when("/expert",{templateUrl:"views/expert.html",controller:"ExpertCtrl",controllerAs:"expert"}).when("/expert/:expertId/articles",{templateUrl:"views/expert/articles.html",controller:"ExpertArticlesCtrl",controllerAs:"expert/articles"}).when("/expert/:expertId/questions",{templateUrl:"views/expert/questions.html",controller:"ExpertQuestionsCtrl",controllerAs:"expert/questions"}).when("/expert/:expertId/results",{templateUrl:"views/expert/results.html",controller:"ExpertResultsCtrl",controllerAs:"expert/results"}).when("/expert/:expertId/album",{templateUrl:"views/expert/album.html",controller:"ExpertAlbumCtrl",controllerAs:"expert/album"}).when("/expert/:expertId/trend",{templateUrl:"views/expert/trend.html",controller:"ExpertTrendCtrl",controllerAs:"expert/trend"}).when("/findPassword",{templateUrl:"views/findpassword.html",controller:"FindpasswordCtrl",controllerAs:"findPassword"}).when("/setNewPassword",{templateUrl:"views/setnewpassword.html",controller:"SetnewpasswordCtrl",controllerAs:"setNewPassword"}).when("/usercenter/assignedQuestion",{templateUrl:"views/usercenter/assignedquestion.html",controller:"UsercenterAssignedquestionCtrl",controllerAs:"usercenter/assignedQuestion"}).when("/usercenter/album",{templateUrl:"views/usercenter/album.html",controller:"UsercenterAlbumCtrl",controllerAs:"usercenter/album"}).when("/usercenter/uploadPic",{templateUrl:"views/usercenter/uploadpic.html",controller:"UsercenterUploadpicCtrl",controllerAs:"usercenter/uploadPic"}).when("/usercenter/myarticle",{templateUrl:"views/usercenter/myarticle.html",controller:"UsercenterMyarticleCtrl",controllerAs:"usercenter/myarticle"}).when("/usercenter/postArticle",{templateUrl:"views/usercenter/postarticle.html",controller:"UsercenterPostarticleCtrl",controllerAs:"usercenter/postArticle"}).when("/usercenter/myresult",{templateUrl:"views/usercenter/myresult.html",controller:"UsercenterMyresultCtrl",controllerAs:"usercenter/myresult"}).when("/usercenter/mytrend",{templateUrl:"views/usercenter/mytrend.html",controller:"UsercenterMytrendCtrl",controllerAs:"usercenter/mytrend"}).when("/usercenter/expertProfile",{templateUrl:"views/usercenter/expertprofile.html",controller:"UsercenterExpertprofileCtrl",controllerAs:"usercenter/expertProfile"}).when("/video/:id",{templateUrl:"views/video/info.html",controller:"VideoInfoCtrl",controllerAs:"video/info"}).when("/usercenter/postresult",{templateUrl:"views/usercenter/postresult.html",controller:"UsercenterPostresultCtrl",controllerAs:"usercenter/postresult"}).otherwise({redirectTo:"/"})}]).factory("Page",function(){var a="default",b="default",c="index",d="article";return{title:function(){return a},setTitle:function(b){a=b},seo:function(){return b},setSeo:function(a){b=a},curNav:function(){return c},setNav:function(a){c=a},subNav:function(){return d},setSubNav:function(a){d=a}}}).factory("Loading",function(){var a=!1;return{isLoading:function(){return a},setLoading:function(b){a=b}}}).filter("trustHtml",["$sce",function(a){return function(b){return a.trustAsHtml(b)}}]).filter("replaceHtml",function(){return function(a){return a.replace(/<\/?[^>]*>/g,"").substr(0,255)+"..."}}).filter("showAvatar",["cloudUrl",function(a){return function(b){return null!==b?a+b:a+"default_avatar.png"}}]).filter("showResource",["cloudUrl",function(a){return function(b){return null!==b?a+b:a+"default_avatar.png"}}]).filter("showStatus",function(){return function(a){var b;switch(a){case"WAIT_AUDITED":b="待审核";break;case"AUDITED":b="审核通过";break;case"FAILED":b="审核失败";break;case"WAIT_RESOLVE":b="待解决";break;case"RESOLVED":b="已解决";break;default:b="未知"}return b}}).filter("showMessageType",function(){return function(a){var b;switch(a){case"TRADE":b="交易提醒";break;case"QUESTION":b="问题提醒";break;case"SYSTEM":b="系统消息";break;case"NOTICE":b="公告通知";break;case"WECHAT":b="微信消息";break;default:b="未知"}return b}}).run(runBlock),runBlock.$inject=["$http"],angular.module("aTechClientApp").controller("PageCtrl",["$scope","$rootScope","Page","Loading","$cookieStore","ngNotify","$location","$http","apiUrl",function(a,b,c,d,e,f,g,h,i){a.Page=c,a.isLogin=1==e.get("isLoggedIn")?!0:!1,a.isExpert=1==e.get("isExpert")?!0:!1,a.curUserId=e.get("userId"),a.loading=d,f.config({theme:"pastel",position:"bottom",duration:3e3,type:"info",sticky:!1,button:!0,html:!1}),b.isLogin=function(){a.isLogin=!0},a.search=function(){g.url("/article?&curParentId=0&keyWord="+a.keyWord)},a.logout=function(){console.log("退出登录操作"),h({method:"GET",url:i+"/logout",headers:{"X-AUTH-TOKEN":e.get("authToken")}}).then(function(b){f.set("成功退出帐号"),console.log("成功退出帐号"),e.remove("authToken"),e.remove("isLogin"),e.remove("isLoggedIn"),g.path("/"),a.isLogin=!1},function(b){console.log("退出帐号失败"),e.remove("authToken"),e.remove("isLogin"),e.remove("isLoggedIn"),e.remove("isExpert"),g.path("/"),a.isLogin=!1})}}]).directive("observe",function(){return{restrice:"EA",controller:["$scope","pagerConfig","$location",function(a,b,c){a.currentPage=c.search().currentPage?parseInt(c.search().currentPage):1,a.selectPage=function(a){c.search("currentPage",a)},a.getCurPage=function(){return a.currentPage},a.next=function(){a.isLast()||a.selectPage(a.currentPage+1)},a.provie=function(){a.isFirst()||a.selectPage(a.currentPage-1)},a.first=function(){a.selectPage(1)},a.last=function(){a.selectPage(a.totalPages-1)},a.isFirst=function(){return a.currentPage<=1},a.isLast=function(){return a.currentPage>=a.totalPages-1},a.getText=function(a){return b.text[a]}}],link:function(a,b,c){a.itemsPerpage=c.itemsperpage||1,a.listSizes=c.listsizes,c.$observe("totalitems",function(b){a.totalItems=b})},templateUrl:"../include/page.html"}}).constant("pagerConfig",{text:{first:"首页",provie:"上一页",next:"下一页",last:"尾页"}}),angular.module("aTechClientApp").controller("MainCtrl",["$http","$scope","apiUrl","ngNotify","Loading","$location","Page","$cookieStore",function(a,b,c,d,e,f,g,h){g.setTitle("农科110首页"),g.setSeo("农科110,山西农科110,山西,农业"),g.setNav("index"),b.trades={0:[],1:[]},b.articles={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[],11:[],12:[],13:[],14:[],15:[],16:[],17:[],18:[],19:[],20:[],21:[],22:[],23:[],24:[],25:[],26:[]},b.getFloatAdvs=function(){console.log("获取轮播图展示数据"),a({method:"GET",url:c+"/advertisements?pageSize=5&page=1&position=FLOAT"}).then(function(a){b.floatAdvs=a.data,console.log(b.floatAdvs)},function(a){console.log("滚动广告获取失败")})},b.getFriendLinks=function(){console.log("获取友情链接数据"),a({method:"GET",url:c+"/links"}).then(function(a){b.links=a.data,console.log(b.links)},function(a){console.log("获取友情链接数据失败")})},b.loadVideoCategories=function(){a.get(c+"/categories?categoryType=VIDEO&parentId=").error(function(a){console.log("获取视频分类数据失败")}).success(function(a){console.log(a),b.videoCategories=a})},b.loadVideos=function(d){b.curVideoCategoryId=d,a.get(c+"/videos?pageSize=8&page=1&category="+d).error(function(a,b){console.log("获取视频数据失败")}).success(function(a){console.log(a),b.videos=a})},b.loadQueitions=function(){a({method:"GET",url:c+"/questions?pageSize=6&page=1"}).then(function(a){b.questions=a.data,console.log(b.questions)},function(a){console.log("获取问题数据失败")})},b.loadExperts=function(){a({method:"GET",url:c+"/experts?pageSize=6&page=1&categoryId="}).then(function(a){b.experts=a.data,console.log(b.experts)},function(a){console.log("加载专家数据失败")})},b.loadTrades=function(){a({method:"GET",url:c+"/trades?pageSize=5&page=1&tradeType=SUPPLY"}).then(function(a){b.trades[0]=a.data},function(a){console.log("加载交易数据失败")})},b.loadTradesForSupply=function(){a({method:"GET",url:c+"/trades?pageSize=5&page=1&tradeType=DEMAND"}).then(function(a){b.trades[1]=a.data},function(a){console.log("加载交易数据失败")})},b.loadArticles=function(d,e,f){a.get(c+"/articles/"+d+"?pageSize="+f+"&page=1").error(function(a,b){console.log(e+":文章加载失败")}).success(function(a){console.log(e+":文章加载成功"),b.articles[e]=a})},b.loadArticles(26,0,6),b.loadArticles(50,1,9),b.loadArticles(7,2,5),b.loadArticles(14,3,9),b.loadArticles(15,4,9),b.loadArticles(16,5,9),b.loadArticles(10,6,9),b.loadArticles(11,7,9),b.loadArticles(12,8,5),b.loadArticles(17,9,5),b.loadArticles(18,10,5),b.loadArticles(19,11,5),b.loadArticles(20,12,5),b.loadArticles(36,13,9),b.loadArticles(37,14,9),b.loadArticles(38,15,9),b.loadArticles(46,16,9),b.loadArticles(47,17,9),b.loadArticles(48,18,9),b.loadArticles(49,19,9),b.loadArticles(45,20,8),b.loadArticles(43,21,8),b.loadArticles(42,22,8),b.loadArticles(87,23,8),b.loadArticles(88,24,8),b.loadArticles(89,25,8),b.loadArticles(25,26,8),b.getFloatAdvs(),b.getFriendLinks(),b.loadVideoCategories(),b.loadVideos(""),b.loadQueitions(),b.loadExperts(),b.loadTrades(),b.loadTradesForSupply()}]),angular.module("aTechClientApp").controller("AboutCtrl",["$http","$scope","apiUrl","ngNotify","Loading","$location","Page","$cookieStore",function(a,b,c,d,e,f,g,h){b.curCategoryId=f.search().category?f.search().category:"",b.curPage=f.search().currentPage?f.search().currentPage:1,g.setTitle("关于我们|农科110"),g.setSeo("关于我们|农科110"),g.setNav("about"),b.loadArticles=function(){a.get(c+"/articles/"+b.curCategoryId+"?pageSize=15&page="+b.curPage).error(function(a,b){d.set("网络加载失败")}).success(function(a){console.log(a),b.articles=a,e.setLoading(!1)})},b.loadCategories=function(){a.get(c+"/categories?parentId=27").error(function(a,b){}).success(function(a){console.log(a),b.categories=a})},e.setLoading(!0),b.loadCategories(),b.loadArticles()}]),angular.module("aTechClientApp").controller("LoginCtrl",["$scope","$http","$cookieStore","$location","ngNotify","apiUrl","$rootScope",function(a,b,c,d,e,f,g){a.login2=function(){var d={password:a.password,phone:a.phone};b.post(f+"/login",d).error(function(a){e.set("登录失败,请重试"+a)}).success(function(b){e.set("登录成功"),c.put("isLoggedIn",1),c.put("authToken",b.authToken),a.isLogin=!0,g.isLogin(),a.getUserProfile()})},a.getUserProfile=function(){b({method:"GET",url:f+"/curuser",headers:{"X-AUTH-TOKEN":c.get("authToken")}}).then(function(b){console.log(b.data);var e=b.data;"EXPERT"==e.userType?c.put("isExpert",1):c.put("isExpert",0),c.put("userId",e.id),c.put("userName",e.name),d.path("#/usercenter/index"),a.isLogin=!0},function(a){e.set("网络加载失败","error")})}}]),angular.module("aTechClientApp").controller("RegisterfirststepCtrl",["$scope","$http","$cookieStore","$location","ngNotify","apiUrl","$interval",function(a,b,c,d,e,f,g){a.countDownTime=60,a.enableGetIdentifyCode=!0,a.identifyTime="获取验证码",a.identifyCode="",a.password="",a.verify_uuid="",a.disable=!1;var h=/0?(13|14|15|18|17)[0-9]{9}/;a.signup=function(){var g={password:a.password,phone:a.phone,userName:a.name,verifyCode:a.verifyCode};b({method:"POST",url:f+"/signup/one",headers:{VERIFY_UUID:a.verify_uuid},data:g}).then(function(a){e.set("注册成功"),c.put("isLoggedIn",1),c.put("authToken",a.authToken),d.path("#/registerSecondStep")},function(a){e.set("注册失败,请重试"+a)})},a.sendVerifyCode=function(){if(a.disable=!0,""==a.phone)return void e.set("请输入手机号","warn");if((!a.phone||a.phone.length<11||!h.test(a.phone))&&e.set("手机号格式不正确","warn"),a.enableGetIdentifyCode){var c={phone:a.phone};b.post(f+"/smsVerifyCode",c).error(function(b){e.set("验证码获取失败！","error"),a.enableGetIdentifyCode=!0}).success(function(b){console.log(b),a.verify_uuid=b.success.message,a.enableGetIdentifyCode=!1,a.countDown=g(function(){a.countDownTime--,a.identifyTime="重新发送（"+a.countDownTime+"）",a.countDownTime<1&&(g.cancel(a.countDown),a.enableGetIdentifyCode=!0,a.identifyTime="重新发送",a.countDownTime=60,a.disable=!1)},1e3)})}else e.set("请稍后再试")}}]),angular.module("aTechClientApp").controller("RegistersecondstepCtrl",["$scope","$http","$cookieStore","$location","ngNotify","apiUrl",function(a,b,c,d,e,f){a.saveProfile=function(){var g={address:a.address,realName:a.realName,industry:a.industry,scale:a.scale};b({method:"POST",url:f+"/signup/two",headers:{"X-AUTH-TOKEN":c.get("authToken")},data:g}).then(function(a){Loading.setLoading(!1),e.set("成功"),d.path("#/usercenter/index")},function(a){e.set("信息保存失败,请重试"+data)})}}]),function(a){a.fn.UItoTop=function(b){var c={text:"To Top",min:200,inDelay:600,outDelay:400,containerID:"toTop",containerHoverID:"toTopHover",scrollSpeed:1200,easingType:"linear"},d=a.extend(c,b),e="#"+d.containerID,f="#"+d.containerHoverID;a("body").append('<a href="#" id="'+d.containerID+'">'+d.text+"</a>"),a(e).hide().on("click.UItoTop",function(){return a("html, body").animate({scrollTop:0},d.scrollSpeed,d.easingType),a("#"+d.containerHoverID,this).stop().animate({opacity:0},d.inDelay,d.easingType),!1}).prepend('<span id="'+d.containerHoverID+'"></span>').hover(function(){a(f,this).stop().animate({opacity:1},600,"linear")},function(){a(f,this).stop().animate({opacity:0},700,"linear")}),a(window).scroll(function(){var b=a(window).scrollTop();"undefined"==typeof document.body.style.maxHeight&&a(e).css({position:"absolute",top:b+a(window).height()-50}),b>d.min?a(e).fadeIn(d.inDelay):a(e).fadeOut(d.Outdelay)})}}(jQuery),angular.module("aTechClientApp").controller("UsercenterProfileCtrl",["$scope","Page","$cookieStore","apiUrl","$http","ngNotify","$location","Loading",function(a,b,c,d,e,f,g,h){b.setTitle("资料设置-个人中心|农科110"),a.curMenu="profile",a.hasNewFile=!1,a.myImage="../image/elliot.jpg",a.myCroppedImage="";var i=function(b){var c=b.currentTarget.files[0],d=new FileReader;d.onload=function(b){a.$apply(function(a){a.myImage=b.target.result})},d.readAsDataURL(c),a.newAvatar=a.myCroppedImage};angular.element(document.querySelector("#fileInput")).on("change",i),a.uploader=Qiniu.uploader({runtimes:"html5,flash,html4",browse_button:"fileInput",uptoken:"K8eqr1qikcsa2OXUkg_gMxIX16cCPR9U8yULRKDr:EVzPxziFEdqqevpQxktb17NppWU=:eyJzY29wZSI6Im5rMTEwLWltYWdlcyIsImRlYWRsaW5lIjoxNDY0MjgwMDY5LCJzYXZlS2V5IjoicWluaXVfY2xvdWRfc3RvcmFnZV8xNDY0Mjc2NDY5IiwibWltZUxpbWl0IjoiaW1hZ2VcLyoifQ==",get_new_uptoken:!1,unique_names:!0,save_key:!1,domain:"http://storage.workerhub.cn/",container:"upload-container",max_file_size:"100mb",flash_swf_url:"path/of/plupload/Moxie.swf",max_retries:3,dragdrop:!0,drop_element:"container",chunk_size:"4mb",auto_start:!0,init:{FilesAdded:function(a,b){plupload.each(b,function(a){console.log(a)})},BeforeUpload:function(a,b){console.log("每个文件上传前,处理相关的事情")},UploadProgress:function(a,b){console.log("上传中"+a)},FileUploaded:function(b,c,d){console.log(d);var e=b.getOption("domain"),f=JSON.parse(d);e+f.key;a.newAvatar+=f.key+",",a.$apply()},Error:function(a,b,c){console.log(c)},UploadComplete:function(){},Key:function(a,b){var c="";return c}}}),a.getUserProfile=function(){e({method:"GET",url:d+"/curuser",headers:{"X-AUTH-TOKEN":c.get("authToken")}}).then(function(b){console.log(b.data);var c=b.data;a.name=c.name,a.realName=c.realName,a.avatar=c.avatar,a.newAvatar=c.avatar,a.address=c.address,a.industry=c.industry,a.scale=c.scale},function(a){f.set("网络加载失败","error")})},a.getUserProfile(),a.saveProfile=function(){var b={realName:a.realName,address:a.address,avatar:a.newAvatar,industry:a.industry,scale:a.scale,email:a.scale};e({method:"PUT",url:d+"/user/1",headers:{"X-AUTH-TOKEN":c.get("authToken")},data:b}).then(function(a){f.set("资料更新成功","success")},function(a){f.set("资料更新失败","error")})}}]),angular.module("aTechClientApp").controller("UsercenterChangepasswordCtrl",["$scope","Page","$cookieStore","apiUrl","$http","ngNotify","$location","Loading",function(a,b,c,d,e,f,g,h){a.curMenu="changepassword",b.setTitle("修改密码-个人中心|农科110"),a.updatePassword=function(){var b={oldPassword:a.oldPassword,newPassword:a.newPassword};e({method:"PUT",url:d+"/my/password",headers:{"X-AUTH-TOKEN":c.get("authToken")},data:b}).then(function(b){a.oldPassword="",a.newPassword="",f.set("密码更新成功","success")},function(a){f.set("密码更新失败","error")})}}]),angular.module("aTechClientApp").controller("UsercenterMyquestionCtrl",["$scope","Page","$cookieStore","apiUrl","$http","ngNotify","$location","Loading",function(a,b,c,d,e,f,g,h){b.setTitle("我的问题-个人中心|农科110"),a.curPage=g.search().currentPage?g.search().currentPage:1,a.curMenu="myquestion",0==g.search().status&&g.search("status","RESOLVED"),a.curStatus=g.search().status?g.search().status:"RESOLVED",a.loadQueitions=function(){e({method:"GET",url:d+"/my/questions?status="+a.curStatus+"&pageSize=10&page="+a.curPage,headers:{"X-AUTH-TOKEN":c.get("authToken")}}).then(function(b){console.log(b.data),a.questions=b.data},function(a){f.set("网络加载失败","error")})},a.loadQueitions()}]),angular.module("aTechClientApp").controller("UsercenterMytradeCtrl",["$scope","Page","$cookieStore","apiUrl","$http","ngNotify","$location","Loading",function(a,b,c,d,e,f,g,h){a.curMenu="mytrade",b.setTitle("我的交易-个人中心|农科110"),a.curPage=g.search().currentPage?g.search().currentPage:1,0==g.search().status&&g.search("status","AUDITED"),a.curStatus=g.search().status?g.search().status:"AUDITED",a.loadTrades=function(){e({method:"GET",url:d+"/my/trades?status="+a.curStatus+"&pageSize=10&page="+a.curPage,headers:{"X-AUTH-TOKEN":c.get("authToken")}}).then(function(b){console.log(b.data),a.trades=b.data},function(a){f.set("网络加载失败","error")})},a.loadTrades()}]),angular.module("aTechClientApp").controller("UsercenterMessageCtrl",["$scope","Page","$cookieStore","apiUrl","$http","ngNotify","$location","Loading",function(a,b,c,d,e,f,g,h){a.curMenu="message",b.setTitle("我的消息-个人中心|农科110"),a.curPage=g.search().currentPage?g.search().currentPage:1,a.loadMessages=function(){e({method:"GET",url:d+"/messages?pageSize=10&page="+a.curPage,headers:{"X-AUTH-TOKEN":c.get("authToken")}}).then(function(b){console.log(b.data),a.messages=b.data},function(a){f.set("网络加载失败","error")})},a.loadMessages()}]),angular.module("aTechClientApp").controller("UsercenterIndexCtrl",["$scope","Page","$cookieStore","apiUrl","$http","ngNotify","$location","Loading",function(a,b,c,d,e,f,g,h){a.curMenu="index",b.setTitle("未读消息-个人中心|农科110"),a.curPage=g.search().currentPage?g.search().currentPage:1,a.loadMessages=function(){e({method:"GET",url:d+"/messages?type=unRead&pageSize=10&page="+a.curPage,headers:{"X-AUTH-TOKEN":c.get("authToken")}}).then(function(b){console.log(b.data),a.messages=b.data},function(a){f.set("网络加载失败","error")})},a.loadMessages()}]),angular.module("aTechClientApp").controller("TradeCtrl",["$scope","Page","$cookieStore","apiUrl","$http","ngNotify","$location","Loading",function(a,b,c,d,e,f,g,h){a.curPage=g.search().currentPage?g.search().currentPage:1,b.setTitle("信息专区|农科110"),b.setSeo("信息专区|农科110"),b.setNav("trade"),0==g.search().type&&g.search("type","DEMAND"),a.curType=g.search().type?g.search().type:"DEMAND",a.loadTrades=function(){e({method:"GET",url:d+"/trades?pageSize=10&page="+a.curPage+"&tradeType="+a.curType,headers:{"X-AUTH-TOKEN":c.get("authToken")}}).then(function(b){a.trades=b.data,console.log(a.trades)},function(a){f.set("网络加载失败","error")})},a.loadTrades(),a.fav=function(b,c){console.log(c),1==a.trades[c].fav?(a.trades[c].fav=!1,a.unFavTrade(b.id)):(a.trades[c].fav=!0,a.favTrade(b.id))},a.favTrade=function(a){e({method:"PUT",url:d+"/trade/"+a+"/fav",headers:{"X-AUTH-TOKEN":c.get("authToken")}}).then(function(a){console.log(a)},function(a){f.set("收藏失败","error")})},a.unFavTrade=function(a){e({method:"PUT",url:d+"/trade/"+a+"/unFav",headers:{"X-AUTH-TOKEN":c.get("authToken")}}).then(function(a){console.log(a)},function(a){f.set("收藏失败","error")})}}]),angular.module("aTechClientApp").controller("TradePostCtrl",["$scope","Page","$cookieStore","apiUrl","$http","ngNotify","$location","Loading","cloudUrl",function(a,b,c,d,e,f,g,h,i){b.setTitle("发布供需信息-农科110"),a.images=[],a.imageData="",a.categories=null,$(".ui.dropdown").dropdown({onChange:function(b,c,d){console.log(b),$("#categoryId").attr("value",b),a.categoryId=b}}),$(".tradeType").dropdown({onChange:function(b,c,d){console.log(b),$("#tradeType").attr("value",b),a.tradeType=b}}),a.loadTradeCategories=function(){e.get(d+"/categories?categoryType=TRADE&parentId=").error(function(a,b){f.set("网络加载失败","error")}).success(function(b){console.log(b),a.categories=b})},a.loadTradeCategories(),a.createTrade=function(){h.setLoading(!0);var b={categoryId:a.categoryId,title:a.title,content:a.content,image:a.imageData,tradeType:a.tradeType};e({method:"POST",url:d+"/trade",headers:{"X-AUTH-TOKEN":c.get("authToken")},data:b}).then(function(a){h.setLoading(!1),f.set("问题提交成功","success"),g.path("/trade")},function(a){f.set("问题提交失败","error"),h.setLoading(!1)})},a.getUploadToken=function(){e({method:"GET",url:d+"/user/uploadToken",headers:{"X-AUTH-TOKEN":c.get("authToken")}}).then(function(b){a.uploadToken=b.data.success.message,a.initUpload()},function(a){console.log("uploadToken获取失败")})},a.getUploadToken(),a.initUpload=function(){Qiniu.uploader({runtimes:"html5,flash,html4",browse_button:"pickfiles",uptoken:a.uploadToken,get_new_uptoken:!1,unique_names:!0,save_key:!1,domain:i,container:"upload-container",max_file_size:"100mb",flash_swf_url:"path/of/plupload/Moxie.swf",max_retries:3,dragdrop:!0,drop_element:"container",chunk_size:"4mb",auto_start:!0,init:{FilesAdded:function(a,b){plupload.each(b,function(a){})},BeforeUpload:function(a,b){console.log("每个文件上传前,处理相关的事情")},UploadProgress:function(a,b){console.log("上传中"+a)},FileUploaded:function(b,c,d){console.log(d);var e=b.getOption("domain"),f=JSON.parse(d),g=e+f.key;a.images.push(g),a.imageData+=f.key+",",a.$apply()},Error:function(a,b,c){console.log(c)},UploadComplete:function(){},Key:function(a,b){var c="";return c}}})}}]),angular.module("aTechClientApp").controller("TradeInfoCtrl",["$http","$scope","apiUrl","ngNotify","$routeParams","Page",function(a,b,c,d,e,f){console.log("获取交易信息"),b.curTradeId=e.id,b.getTradeInfo=function(){a.get(c+"/trade/"+e.id).error(function(a){console.log(a)}).success(function(a){b.curTrade=a,f.setTitle(b.curTrade.title),b.images=b.curTrade.images.split(",")})},b.getTradeInfo()}]),angular.module("aTechClientApp").controller("QuestionCtrl",["$http","$scope","apiUrl","ngNotify","Loading","$location","Page","$cookieStore",function(a,b,c,d,e,f,g,h){b.curPage=f.search().currentPage?f.search().currentPage:1,b.curCategoryId=f.search().category?f.search().category:"",g.setTitle("问答专区|农科110"),g.setSeo("问答专区|农科110"),g.setNav("question"),b.loadQueitions=function(){a({method:"GET",url:c+"/questions?pageSize=10&page="+b.curPage+"&category="+b.curCategoryId,headers:{"X-AUTH-TOKEN":h.get("authToken")}}).then(function(a){b.questions=a.data,console.log(b.questions)},function(a){d.set("网络加载失败","error")})},b.loadCategories=function(){a.get(c+"/categories?categoryType=QUESTION&parentId=").error(function(a,b){}).success(function(a){console.log(a),b.categories=a})},b.loadCategories(),b.loadQueitions(),b.fav=function(a,c){1==b.questions[c].fav?(b.questions[c].fav=!1,b.unFavQuestion(a.id)):(b.questions[c].fav=!0,b.favQuestion(a.id))},b.favQuestion=function(b){a({method:"PUT",url:c+"/question/"+b+"/fav",headers:{"X-AUTH-TOKEN":h.get("authToken")}}).then(function(a){console.log(a)},function(a){d.set("收藏失败","error")})},b.unFavQuestion=function(b){a({method:"PUT",url:c+"/question/"+b+"/unFav",headers:{"X-AUTH-TOKEN":h.get("authToken")}}).then(function(a){console.log(a)},function(a){d.set("收藏失败","error")})}}]),angular.module("aTechClientApp").controller("QuestionPostCtrl",["$scope","Page","$cookieStore","apiUrl","$http","ngNotify","$location","Loading","cloudUrl",function(a,b,c,d,e,f,g,h,i){b.setTitle("我要提问-农科110"),a.images=[],a.imageData="",a.categories=null,a.expertId=g.search().expertId?g.search().expertId:"",""!=a.expertId?a.desc="向专家提问":a.desc="请认真填写您所遇到的问题，我们将尽快指派专家给您回复",$(".ui.dropdown").dropdown({onChange:function(b,c,d){console.log(b),$("#categoryId").attr("value",b),a.categoryId=b}}),a.loadQueitionCategories=function(){e.get(d+"/categories?categoryType=QUESTION&parentId=").error(function(a,b){f.set("网络加载失败","error")}).success(function(b){console.log(b),a.categories=b})},a.loadQueitionCategories(),a.createQuestion=function(){h.setLoading(!0);var b={categoryId:a.categoryId,title:a.title,content:a.content,image:a.imageData,expertId:a.expertId};e({method:"POST",url:d+"/question",headers:{"X-AUTH-TOKEN":c.get("authToken")},data:b}).then(function(a){h.setLoading(!1),f.set("问题提交成功","success"),g.path("/question")},function(a){f.set("问题提交失败","error"),h.setLoading(!1)})},a.getUploadToken=function(){e({method:"GET",url:d+"/user/uploadToken",headers:{"X-AUTH-TOKEN":c.get("authToken")}}).then(function(b){a.uploadToken=b.data.success.message,a.initUpload()},function(a){console.log("uploadToken获取失败")})},a.getUploadToken(),a.initUpload=function(){Qiniu.uploader({runtimes:"html5,flash,html4",browse_button:"pickfiles",uptoken:a.uploadToken,get_new_uptoken:!1,unique_names:!0,save_key:!1,domain:i,container:"upload-container",max_file_size:"100mb",flash_swf_url:"path/of/plupload/Moxie.swf",max_retries:3,dragdrop:!0,drop_element:"container",chunk_size:"4mb",auto_start:!0,init:{FilesAdded:function(a,b){plupload.each(b,function(a){})},BeforeUpload:function(a,b){console.log("每个文件上传前,处理相关的事情")},UploadProgress:function(a,b){console.log("上传中"+a)},FileUploaded:function(b,c,d){console.log(d);var e=b.getOption("domain"),f=JSON.parse(d),g=e+f.key;a.images.push(g),a.imageData+=f.key+",",a.$apply()},Error:function(a,b,c){console.log(c)},UploadComplete:function(){},Key:function(a,b){var c="";return c}}})}}]),angular.module("aTechClientApp").controller("QuestionInfoCtrl",["$http","$scope","apiUrl","ngNotify","$routeParams","Page",function(a,b,c,d,e,f){console.log("获取问题信息"),b.curQuestionId=e.id,b.hasAnswer=!1,b.getQuestionInfo=function(){a.get(c+"/question/"+e.id).error(function(a){console.log(a)}).success(function(a){b.curQuestion=a,f.setTitle(b.curQuestion.title),null!==b.curQuestion.answer&&(b.hasAnswer=!0,b.images=b.curQuestion.images.split(","))})},b.getQuestionInfo()}]),angular.module("aTechClientApp").controller("VideoCtrl",["$http","$scope","apiUrl","ngNotify","Loading","$location","Page",function(a,b,c,d,e,f,g){b.curCategoryId=f.search().category?f.search().category:"",b.curPage=f.search().currentPage?f.search().currentPage:1,g.setTitle("视频专区|农科110"),g.setSeo("视频专区|农科110"),g.setNav("video"),b.loadCategories=function(){a.get(c+"/categories?categoryType=VIDEO&parentId=").error(function(a,b){}).success(function(a){console.log(a),b.categories=a})},b.loadVideos=function(){a.get(c+"/videos?pageSize=10&page="+b.curPage).error(function(a,b){d.set("网络加载失败","error")}).success(function(a){console.log(a),b.videos=a,e.setLoading(!1)})},b.loadCategories(),b.loadVideos()}]),angular.module("aTechClientApp").controller("ArticleCtrl",["$http","$scope","$location","apiUrl","ngNotify","Loading","Page",function(a,b,c,d,e,f,g){b.curCategoryId=c.search().category?c.search().category:"",b.curParentId=c.search().curParentId?c.search().curParentId:"",b.keyWord=c.search().keyWord?c.search().keyWord:"",b.curPage=c.search().currentPage?c.search().currentPage:1,g.setTitle("文章专区|农科110"),g.setSeo("文章专区|农科110"),g.setNav("article"),b.loadArticles=function(){""!=b.keyWord?a.get(d+"/articles/search?keyWord="+b.keyWord+"&pageSize=15&page="+b.curPage).error(function(a,b){e.set("网络加载失败")}).success(function(a){console.log(a),b.articles=a}):a.get(d+"/articles/"+b.curCategoryId+"?pageSize=15&page="+b.curPage).error(function(a,b){e.set("网络加载失败")}).success(function(a){console.log(a),b.articles=a})},b.loadCategories=function(){a.get(d+"/categories?parentId="+b.curParentId).error(function(a,b){}).success(function(a){console.log(a),b.categories=a})},""==b.keyWord&&b.loadCategories(),b.loadArticles()}]),angular.module("aTechClientApp").controller("ArticleInfoCtrl",["$http","$scope","apiUrl","ngNotify","$routeParams","Loading","$cookieStore",function(a,b,c,d,e,f,g){b.fontSize=14,b.upFontSize=function(){b.fontSize+=1},b.downFontSize=function(){b.fontSize-=1},b.loadArticle=function(){f.setLoading(!0),a.get(c+"/article/"+e.id).error(function(a,b){d.set("网络加载失败"),f.setLoading(!1)}).success(function(a){console.log(a),b.article=a,f.setLoading(!1)})},b.loadComments=function(){a.get(c+"/article/"+e.id+"/comments").error(function(a,b){d.set("网络加载失败")}).success(function(a){console.log(a),b.comments=a})},b.loadComments(),b.loadArticle(),b.addComment=function(){var d={comment:b.comment};a({method:"POST",url:c+"/article/"+e.id+"/comments",headers:{"X-AUTH-TOKEN":g.get("authToken")},data:d}).then(function(a){b.comment="",b.loadComments()},function(a){})}}]),angular.module("aTechClientApp").controller("ExpertCtrl",["$http","$scope","apiUrl","ngNotify","Loading","$location","Page","$cookieStore",function(a,b,c,d,e,f,g,h){b.curPage=f.search().currentPage?f.search().currentPage:1,b.curCategoryId=f.search().category?f.search().category:"",g.setTitle("专家在线|农科110"),g.setSeo("专家在线|农科110"),g.setNav("expert"),b.loadExperts=function(){a({method:"GET",url:c+"/experts?pageSize=12&page="+b.curPage+"&categoryId="+b.curCategoryId,headers:{"X-AUTH-TOKEN":h.get("authToken")}}).then(function(a){b.experts=a.data,console.log(b.experts)},function(a){d.set("网络加载失败","error")})},b.loadCategories=function(){a({method:"GET",url:c+"/categories?categoryType=EXPERT&parentId="}).then(function(a){
console.log(a.data),b.categories=a.data},function(a){console.log("加载分类失败")})},b.loadCategories(),b.loadExperts()}]),angular.module("aTechClientApp").controller("ExpertArticlesCtrl",["$http","$scope","apiUrl","ngNotify","$routeParams","Loading","$location","Page","$cookieStore",function(a,b,c,d,e,f,g,h,i){console.log(e.expertId),b.curPage=g.search().currentPage?g.search().currentPage:1,h.setTitle("专家的文章|农科110"),h.setSubNav("article"),b.getExpertInfo=function(){a.get(c+"/expert/"+e.expertId).error(function(a){console.log(a)}).success(function(a){b.curExpert=a,b.loadArticles()})},b.getExpertInfo(),b.loadArticles=function(){a.get(c+"/expert/"+b.curExpert.user.id+"/articles?pageSize=15&page="+b.curPage).error(function(a,b){d.set("网络加载失败")}).success(function(a){console.log(a),b.articles=a})}}]),angular.module("aTechClientApp").controller("ExpertQuestionsCtrl",["$http","$scope","$rootScope","apiUrl","Page","ngNotify","$routeParams","Loading","$cookieStore","$location",function(a,b,c,d,e,f,g,h,i,j){console.log(g.expertId),b.curPage=j.search().currentPage?j.search().currentPage:1,e.setSubNav("question"),b.getExpertInfo=function(){a.get(d+"/expert/"+g.expertId).error(function(a){console.log(a)}).success(function(a){b.curExpert=a,b.loadQueitions()})},b.getExpertInfo(),b.loadQueitions=function(){a({method:"GET",url:d+"/expert/"+b.curExpert.user.id+"/questions?status=RESOLVED&pageSize=10&page="+b.curPage,headers:{"X-AUTH-TOKEN":i.get("authToken")}}).then(function(a){console.log(a.data),b.questions=a.data},function(a){f.set("网络加载失败","error")})}}]),angular.module("aTechClientApp").controller("ExpertResultsCtrl",["$http","$scope","apiUrl","ngNotify","Page","$routeParams","$location","Loading","$cookieStore",function(a,b,c,d,e,f,g,h,i){console.log(f.expertId),e.setSubNav("result"),b.curPage=g.search().currentPage?g.search().currentPage:1,b.getExpertInfo=function(){a.get(c+"/expert/"+f.expertId).error(function(a){console.log(a)}).success(function(a){b.curExpert=a,b.loadArticles()})},b.getExpertInfo(),b.loadArticles=function(){a.get(c+"/expert/"+b.curExpert.user.id+"/results?pageSize=15&page="+b.curPage).error(function(a,b){d.set("网络加载失败")}).success(function(a){console.log(a),b.articles=a})}}]),angular.module("aTechClientApp").controller("ExpertAlbumCtrl",["$http","$scope","apiUrl","ngNotify","Page","$routeParams","Loading","$cookieStore",function(a,b,c,d,e,f,g,h){console.log(f.expertId),e.setSubNav("album")}]),angular.module("aTechClientApp").controller("ExpertTrendCtrl",["$http","$scope","apiUrl","ngNotify","$routeParams","Loading","$cookieStore",function(a,b,c,d,e,f,g){console.log(e.expertId)}]),angular.module("aTechClientApp").controller("FindpasswordCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("aTechClientApp").controller("SetnewpasswordCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("aTechClientApp").controller("UsercenterAssignedquestionCtrl",["$scope","Page","$cookieStore","apiUrl","$http","ngNotify","$location","Loading",function(a,b,c,d,e,f,g,h){a.curMenu="assignedQuestion",b.setTitle("指派给我的问题-个人中心|农科110"),a.curPage=g.search().currentPage?g.search().currentPage:1,0==g.search().status&&g.search("status","RESOLVED"),a.curStatus=g.search().status?g.search().status:"RESOLVED",a.loadQueitions=function(){e({method:"GET",url:d+"/expert/"+a.curUserId+"/questions?status="+a.curStatus+"&pageSize=10&page="+a.curPage,headers:{"X-AUTH-TOKEN":c.get("authToken")}}).then(function(b){console.log(b.data),a.questions=b.data},function(a){f.set("网络加载失败","error")})},a.loadQueitions()}]),angular.module("aTechClientApp").controller("UsercenterAlbumCtrl",["$scope","Page","$cookieStore","apiUrl","$http","ngNotify","$location","Loading",function(a,b,c,d,e,f,g,h){a.curMenu="album"}]),angular.module("aTechClientApp").controller("UsercenterUploadpicCtrl",function(){}),angular.module("aTechClientApp").controller("UsercenterMyarticleCtrl",["$scope","Page","$cookieStore","apiUrl","$http","ngNotify","$location",function(a,b,c,d,e,f,g){a.curMenu="myarticle",a.curCategoryId=g.search().category,a.curPage=g.search().currentPage?g.search().currentPage:1,b.setTitle("我的文章|农科110"),a.loadArticles=function(){e.get(d+"/expert/"+a.curUserId+"/articles?pageSize=15&page="+a.curPage).error(function(a,b){f.set("网络加载失败")}).success(function(b){console.log(b),a.articles=b})},a.loadArticles()}]),angular.module("aTechClientApp").controller("UsercenterPostarticleCtrl",["$scope","Page","$cookieStore","apiUrl","$http","ngNotify","$location","Loading","cloudUrl",function(a,b,c,d,e,f,g,h,i){a.curMenu="postarticle",a.getCategories=function(b){e({method:"GET",url:d+"/categories?categoryType=ARTICLE&parentId="}).then(function(b){console.log(b.data),a.categories=b.data},function(a){console.log("加载分类失败")})},a.getCategories("ARTICLE"),$(".ui.dropdown").dropdown({onChange:function(b,c,d){console.log(b),$("#categoryId").attr("value",b),a.categoryId=b}}),a.addArticle=function(){e({method:"POST",url:d+"/expert/article",headers:{"X-AUTH-TOKEN":c.get("authToken")},data:{title:a.title,content:editor.getValue(),tag:a.tag,image:a.imageData,categoryId:a.categoryId,type:"article"}}).then(function(a){f.set("文章发布成功","success"),g.path("/usercenter/myarticle")},function(a){console.log(a),400===a.status?angular.forEach(a.data,function(a,b){"title"===b||"content"===b||"categoryId"==b?f.set(b+" : "+a,"error"):f.set(a.message,"error")}):401===a.status?g.path("/login"):500===a.status?f.set("Internal server error!","error"):f.set(a.date,"error")})},a.getUploadToken=function(){e({method:"GET",url:d+"/user/uploadToken",headers:{"X-AUTH-TOKEN":c.get("authToken")}}).then(function(b){a.uploadToken=b.data.success.message,a.initUpload()},function(a){console.log("uploadToken获取失败")})},a.getUploadToken(),a.initUpload=function(){Qiniu.uploader({runtimes:"html5,flash,html4",browse_button:"pickfiles",uptoken:a.uploadToken,get_new_uptoken:!1,unique_names:!0,save_key:!1,domain:i,container:"upload-container",max_file_size:"100mb",flash_swf_url:"path/of/plupload/Moxie.swf",max_retries:3,dragdrop:!0,drop_element:"container",chunk_size:"4mb",auto_start:!0,init:{FilesAdded:function(a,b){plupload.each(b,function(a){})},BeforeUpload:function(a,b){console.log("每个文件上传前,处理相关的事情")},UploadProgress:function(a,b){console.log("上传中"+a)},FileUploaded:function(b,c,d){console.log(d);var e=b.getOption("domain"),f=JSON.parse(d);e+f.key;a.cateImage=e+f.key,a.imageData+=f.key+",",a.$apply()},Error:function(a,b,c){console.log(c)},UploadComplete:function(){},Key:function(a,b){var c="";return c}}})}}]),angular.module("aTechClientApp").controller("UsercenterMyresultCtrl",["$scope","Page","$cookieStore","apiUrl","$http","ngNotify","$location","Loading",function(a,b,c,d,e,f,g,h){a.curMenu="myresult",a.curCategoryId=g.search().category,a.curPage=g.search().currentPage?g.search().currentPage:1,b.setTitle("我的成果|农科110"),a.loadArticles=function(){e.get(d+"/expert/"+a.curUserId+"/results?pageSize=15&page="+a.curPage).error(function(a,b){f.set("网络加载失败")}).success(function(b){console.log(b),a.articles=b})},a.loadArticles()}]),angular.module("aTechClientApp").controller("UsercenterMytrendCtrl",["$scope","Page","$cookieStore","apiUrl","$http","ngNotify","$location","Loading","$routeParams",function(a,b,c,d,e,f,g,h,i){a.curMenu="mytrend",a.loadTrends=function(){e.get(d+"/expert/"+a.curUserId+"/trend").error(function(a,b){f.set("网络加载失败")}).success(function(b){console.log(b),a.trends=b})},a.loadTrends(),a.addTrend=function(){var b={content:a.comment};e({method:"POST",url:d+"/expert/trend",headers:{"X-AUTH-TOKEN":c.get("authToken")},data:b}).then(function(b){a.comment="",a.loadTrends()},function(a){})}}]),angular.module("aTechClientApp").controller("UsercenterExpertprofileCtrl",["$scope","Page","$cookieStore","apiUrl","$http","ngNotify","$location","Loading",function(a,b,c,d,e,f,g,h){a.curMenu="expertProfile",b.setTitle("专家资料设置-个人中心|农科110"),$(".ui.dropdown").dropdown({onChange:function(b,c,d){console.log(b),$("#categoryId").attr("value",b),a.categoryId=b}}),a.loadCategories=function(){e({method:"GET",url:d+"/categories?categoryType=EXPERT&parentId="}).then(function(b){console.log(b.data),a.categories=b.data},function(a){console.log("加载分类失败")})},a.loadCategories(),a.getUserProfile=function(){e({method:"GET",url:d+"/expert/"+a.curUserId,headers:{"X-AUTH-TOKEN":c.get("authToken")}}).then(function(b){console.log(b.data);var c=b.data;a.company=c.company,a.service=c.service,a.introduction=c.introduction,a.duty=c.duty,a.professional=c.professional,a.categoryId=c.category.id},function(a){f.set("网络加载失败","error")})},a.getUserProfile(),a.saveProfile=function(){var b={company:a.company,service:a.service,introduction:a.introduction,duty:a.duty,categoryId:a.categoryId,professional:a.professional};e({method:"PUT",url:d+"/expert",headers:{"X-AUTH-TOKEN":c.get("authToken")},data:b}).then(function(a){f.set("资料更新成功","success")},function(a){f.set("资料更新失败","error")})}}]),angular.module("aTechClientApp").controller("VideoInfoCtrl",["$http","$scope","$location","apiUrl","ngNotify","$routeParams","Loading","$cookieStore","$sce","cloudUrl",function(a,b,c,d,e,f,g,h,i,j){b.loadVideo=function(){a.get(d+"/video/"+f.id).error(function(a,b){e.set("网络加载失败"),g.setLoading(!1)}).success(function(a){console.log(a),b.video=a,b.resourceUrl=j+b.video.path,console.log(b.resourceUrl)})},b.trustSrc=function(a){return i.trustSrc(a)},b.loadVideo()}]),angular.module("aTechClientApp").controller("CommonExpertCtrl",["$http","$scope","$rootScope","apiUrl","ngNotify","$routeParams","Loading","$cookieStore",function(a,b,c,d,e,f,g,h){console.log("获取专家信息"),b.curExpertId=f.expertId,b.getExpertInfo=function(){a.get(d+"/expert/"+f.expertId).error(function(a){console.log(a)}).success(function(a){b.curExpert=a,c.curExpert=a,b.loadTrends()})},b.getExpertInfo(),b.loadTrends=function(){a.get(d+"/expert/"+b.curExpert.user.id+"/trend").error(function(a,b){e.set("网络加载失败")}).success(function(a){console.log(a),b.trends=a})}}]),angular.module("aTechClientApp").run(["$templateCache",function(a){a.put("views/about.html",'<div class="ui breadcrumb at-location"> <a class="section">当前位置</a> <i class="right angle icon divider"></i> <a class="section">关于我们</a> </div> <div class="ui secondary pointing menu"> <div ng-repeat="category in categories"> <a ng-class="{true:\'item active\',false:\'item\'}[category.id == curCategoryId]" href="#/about?category={{ category.id }}">{{ category.name }}</a> </div> </div> <div class="ui items" ng-repeat="article in articles"> <div class="ui items segment at-article-item"> <div class="content"> <a class="header at-article-title" href="#/article/{{ article.id }}">{{ article.title }}</a> <div class="time"> <span>{{ article.whenCreated | date:\'yyyy-MM-dd HH:mm\' }}</span> </div> <div class="description"> <p style="max-height: 181px;overflow: hidden; line-height: 25px"> {{ article.content | replaceHtml}} </p> </div> <!--<div class="at-article-img">--> <!--<img src="/images/yeoman.8cb970fb.png"/>--> <!--</div>--> <div class="at-expert-tag"> <a class="ui red label">{{ article.category.name }}</a> <a class="ui orange label">{{ article.tag }}</a> </div> </div> </div> </div> <observe totalitems="204" listsizes="5" itemsperpage="10"></observe>'),a.put("views/article.html",'<div class="ui breadcrumb at-location"> <a class="section">当前位置</a> <i class="right angle icon divider"></i> <a class="section">文章列表</a> </div> <div class="ui secondary pointing menu"> <!--<a href="#/article?category=" ng-class="{true:\'item active\',false:\'item\'}[curCategoryId==\'\']">全部</a>--> <div ng-repeat="category in categories"> <a ng-class="{true:\'item active\',false:\'item\'}[category.id == curCategoryId]" href="#/article?category={{ category.id }}&curParentId={{ category.pid }}">{{ category.name }}</a> </div> </div> <div class="ui items" ng-repeat="article in articles"> <div class="ui items segment at-article-item"> <div class="content"> <a class="header at-article-title" href="#/article/{{ article.id }}">{{ article.title }}</a> <div class="time"> <span>{{ article.whenCreated | date:\'yyyy-MM-dd HH:mm\' }}</span> </div> <div class="description"> <p style="max-height: 181px;overflow: hidden; line-height: 25px"> {{ article.content | replaceHtml}} </p> </div> <!--<div class="at-article-img">--> <!--<img src="/images/yeoman.8cb970fb.png"/>--> <!--</div>--> <div class="at-expert-tag"> <a class="ui red label">{{ article.category.name }}</a> <a class="ui orange label">{{ article.tag }}</a> </div> </div> </div> </div> <observe totalitems="204" listsizes="5" itemsperpage="10"></observe>'),a.put("views/article/info.html",'<div class="ui breadcrumb" id="at-expert-breadcrumb"> <a class="section">首页</a> <i class="right angle icon divider"></i> <a class="section">文章详情</a> </div> <div class="ui segment"> <h2 class="ui header centered">{{ article.title }}</h2> <hr id="deshed "> <div class="sub header at-cont-author centered"> 日期:{{ article.whenCreated | date:\'yyyy-MM-dd HH:mm\' }} &nbsp;&nbsp;&nbsp; <span ng-show="article.admin != null">作者:{{ article.admin.name }}</span> <span ng-show="article.user != null">作者:{{ article.user.realName }}</span> &nbsp;&nbsp;&nbsp;文章来源:农科110 <div class="function-box"> <a href="javascript:void(0);" ng-click="upFontSize()" title="调大字体" id="jia"><i class="large add square icon"></i></a> <a href="javascript:void(0);" ng-click="downFontSize()" title="调小字体" id="jian"><i class="large minus square icon"></i></a> | <a href="http://http://localhost:9000/#/article/16#" onclick="window.print()" title="print" id="print"><i class="large print icon"></i></a> </div> </div> <div class="ui basic segment at-cont-segment" style="font-size: {{ fontSize }}px"> <div data-ng-bind-html="article.content"></div> </div> <!--<div class="recommend">--> <!--<div class="at-cont-icon"></div>--> <!--<span>推荐文章:</span>--> <!--<a href="">山东青岛打造光伏农业科技</a>--> <!--<a href="">山东青岛打造光伏农业科技</a>--> <!--<a href="">山东青岛打造光伏农业科技</a> <i class="caret right link icon"></i>--> <!--</div>--> <!--<div class="ui secondary pointing menu at-article-trun">--> <!--<div class="right menu">--> <!--<a class="active item">上一篇</a>--> <!--<a class="item">下一篇</a>--> <!--</div>--> <!--</div>--> <div class="at-article-comment"> <span>评论:</span> </div> <form class="ui reply form" ng-submit="addComment()"> <div class="field"> <textarea name="comment" ng-model="comment"></textarea> </div> <button class="ui basic button" type="submit"> 我来说几句 </button> </form> <div class="ui comments" ng-repeat="comment in comments"> <div class="comment"> <a class="avatar"> <img src="http://semantic-ui.com/images/avatar/small/matt.jpg"></a> <div class="content"> <a class="author">{{ comment.user.name }}</a> <div class="metadata"> <span class="date">{{ comment.whenCreated | date:\'yyyy-MM-dd HH:mm\' }}</span> </div> <div class="text"> <p>{{ comment.content }}</p> </div> </div> </div> </div> </div>'),a.put("views/expert.html",'<div class="ui breadcrumb" id="at-expert-breadcrumb"> <a class="section">首页</a> <i class="right angle icon divider"></i> <a class="section">专家列表</a> </div> <div class="ui secondary pointing menu"> <a href="#/expert?category=" ng-class="{true:\'item active\',false:\'item\'}[curCategoryId==\'\']">全部</a> <div ng-repeat="category in categories"> <a ng-class="{true:\'item active\',false:\'item\'}[category.id == curCategoryId]" href="#/expert?category={{ category.id }}">{{ category.name }}</a> </div> </div> <div class="ui four column grid" id="at-expert-card"> <div class="column" ng-repeat="expert in experts"> <div class="ui special cards"> <div class="card at-expert-card"> <div class="blurring dimmable image"> <div class="ui dimmer"> <div class="content"> <div class="center"> <div class="ui inverted button">进入专家主页</div> </div> </div> </div> <img src="{{ expert.user.avatar | showAvatar}}"></div> <div class="content"> <a class="header" href="#/expert/{{ expert.id }}/articles">{{ expert.user.realName }}</a> <div class="meta"> 职务:{{ expert.duty }} </div> <div class="meta"> 职称:{{ expert.professional }} </div> <div class="meta"> 单位:{{ expert.company }} </div> </div> <div class="extra content"> <a href="#/expert/{{ expert.id }}/articles"> <i class="pointing right icon"></i> 点此进入专家主页 </a> </div> </div> </div> </div> <script type="text/javascript">$(\'.special.cards .image\').dimmer({\n            on: \'hover\'\n        });</script> </div> <br> <observe totalitems="204" listsizes="5" itemsperpage="10"></observe>'),a.put("views/expert/album.html",'<div ng-include="\'../include/experthead.html\'"></div> <section id="cd-timeline" class="cd-container"> <div class="cd-timeline-block"> <div class="cd-timeline-img cd-picture"> <img src="image/20090112130627120.jpg" alt="Picture" class="expert-album-img1"> </div> <div class="cd-timeline-content"> <h4 class="expert-album-time">时间：2016.05.08</h4> <div class="ui bottom attached tab segment active" data-tab="first"> <div class="ui grid bg-gray expert-album-box"> <div class="ui grid at-video-box"> <div class="four wide column" href="#/"> <img class="ui image at-video" src="images/Fl201512241629035405.7e11eb6f.jpg"> </div> <div class="four wide column" href="#/"> <img class="ui image at-video" src="images/Fl201512241629035405.7e11eb6f.jpg"> </div> <div class="four wide column" href="#/"> <img class="ui image at-video" src="images/Fl201512241629035405.7e11eb6f.jpg"> </div> <div class="four wide column" href="#/"> <img class="ui image at-video" src="images/Fl201512241629035405.7e11eb6f.jpg"> </div> </div> <div class="ui grid at-video-box"> <div class="four wide column" href="#/"> <img class="ui image at-video" src="images/Fl201512241629035405.7e11eb6f.jpg"> </div> <div class="four wide column" href="#/"> <img class="ui image at-video" src="images/Fl201512241629035405.7e11eb6f.jpg"> </div> <div class="four wide column" href="#/"> <img class="ui image at-video" src="images/Fl201512241629035405.7e11eb6f.jpg"> </div> <div class="four wide column" href="#/"> <img class="ui image at-video" src="images/Fl201512241629035405.7e11eb6f.jpg"> </div> </div> </div> </div> </div> </div> <div class="cd-timeline-block"> <div class="cd-timeline-img cd-picture"> <img src="image/20090112130627120.jpg" alt="Picture" class="expert-album-img1"> </div> <div class="cd-timeline-content"> <h4 class="expert-album-time">时间：2016.05.08</h4> <div class="ui bottom attached tab segment active" data-tab="first"> <div class="ui grid bg-gray expert-album-box"> <div class="ui grid at-video-box"> <div class="four wide column" href="#/"> <img class="ui image at-video" src="images/Fl201512241629035405.7e11eb6f.jpg"> </div> <div class="four wide column" href="#/"> <img class="ui image at-video" src="images/Fl201512241629035405.7e11eb6f.jpg"> </div> <div class="four wide column" href="#/"> <img class="ui image at-video" src="images/Fl201512241629035405.7e11eb6f.jpg"> </div> <div class="four wide column" href="#/"> <img class="ui image at-video" src="images/Fl201512241629035405.7e11eb6f.jpg"> </div> </div> </div> </div> </div> </div> <div class="cd-timeline-block"> <div class="cd-timeline-img cd-picture"> <img src="image/20090112130627120.jpg" alt="Picture" class="expert-album-img1"> </div> <div class="cd-timeline-content"> <h4 class="expert-album-time">时间：2016.05.08</h4> <div class="ui bottom attached tab segment active" data-tab="first"> <div class="ui grid bg-gray expert-album-box"> <div class="ui grid at-video-box"> <div class="four wide column" href="#/"> <img class="ui image at-video" src="images/Fl201512241629035405.7e11eb6f.jpg"> </div> <div class="four wide column" href="#/"> <img class="ui image at-video" src="images/Fl201512241629035405.7e11eb6f.jpg"> </div> <div class="four wide column" href="#/"> <img class="ui image at-video" src="images/Fl201512241629035405.7e11eb6f.jpg"> </div> <div class="four wide column" href="#/"> <img class="ui image at-video" src="images/Fl201512241629035405.7e11eb6f.jpg"> </div> </div> <div class="ui grid at-video-box"> <div class="four wide column" href="#/"> <img class="ui image at-video" src="images/Fl201512241629035405.7e11eb6f.jpg"> </div> <div class="four wide column" href="#/"> <img class="ui image at-video" src="images/Fl201512241629035405.7e11eb6f.jpg"> </div> <div class="four wide column" href="#/"> <img class="ui image at-video" src="images/Fl201512241629035405.7e11eb6f.jpg"> </div> <div class="four wide column" href="#/"> <img class="ui image at-video" src="images/Fl201512241629035405.7e11eb6f.jpg"> </div> </div> </div> </div> </div> </div> </section>'),a.put("views/expert/articles.html",'<div class="ui"> <div ng-include="\'../include/experthead.html\'"></div> <div class="ui four column grid"> <div class="row" style="margin-top:15px"> <div class="ten wide column"> <div class="ui items segment"> <div class="item at-article-item" ng-repeat="article in articles"> <div class="content"> <a class="header" href="#/article/{{ article.id }}">{{ article.title }}</a> <div class="time"> <span>{{ article.whenCreated | date:\'yyyy-MM-dd HH:mm\'}}</span> </div> <div class="description"> <p> {{ article.content | replaceHtml}} </p> </div> <!--<div class="at-article-img">--> <!--<img src="/images/yeoman.8cb970fb.png"/>--> <!--</div>--> <div class="at-expert-tag"> <a class="ui red label">{{ article.category.name }}</a> <a class="ui orange label">{{ article.tag }}</a> </div> </div> </div> </div> <observe totalitems="204" listsizes="5" itemsperpage="10"></observe> </div> <div class="six wide column" ng-controller="CommonExpertCtrl"> <div class="ui segment feed"> <div class="event" ng-repeat="trend in trends"> <div class="label"> <img src="{{ trend.user.avatar | showAvatar}}"></div> <div class="content"> <div class="summary"> <a>{{ trend.user.realName }}</a> 发布了动态 <div class="date">{{ trend.whenCreated | date:\'yyyy-MM-dd HH:mm\'}}</div> </div> <div class="extra text"> {{ trend.content }} </div> <!--<div class="meta">--> <!--<a class="like">--> <!--<i class="like icon"></i>--> <!--5 Likes--> <!--</a>--> <!--</div>--> </div> </div> </div> </div> </div> </div> </div>'),a.put("views/expert/questions.html",'<div class="ui"> <div ng-include="\'../include/experthead.html\'"></div> <div class="ui four column grid"> <div class="row" style="margin-top:15px"> <div class="ten wide column"> <div class="ui list"> <div class="item ui segment" ng-repeat="question in questions"> <div class="content at-question-cont"> <div> <a class="ui teal tag label at-question-label-from">{{ question.category.name }}</a> </div> <div> <a class="at-question-title" href="#/question/{{question.id}}">{{ question.title }}</a> </div> <div class="description"> <p> {{ question.content }} </p> </div> </div> </div> </div> <observe totalitems="204" listsizes="5" itemsperpage="10"></observe> </div> <div class="six wide column" ng-controller="CommonExpertCtrl"> <div class="ui segment feed"> <div class="event" ng-repeat="trend in trends"> <div class="label"> <img src="{{ trend.user.avatar | showAvatar}}"></div> <div class="content"> <div class="summary"> <a>{{ trend.user.realName }}</a> 发布了动态 <div class="date">{{ trend.whenCreated | date:\'yyyy-MM-dd HH:mm\'}}</div> </div> <div class="extra text"> {{ trend.content }} </div> <!--<div class="meta">--> <!--<a class="like">--> <!--<i class="like icon"></i>--> <!--5 Likes--> <!--</a>--> <!--</div>--> </div> </div> </div> </div> </div> </div> </div>'),a.put("views/expert/results.html",'<div class="ui"> <div ng-include="\'../include/experthead.html\'"></div> <div class="ui four column grid"> <div class="row" style="margin-top:15px"> <div class="ten wide column"> <div class="ui items segment"> <div class="item at-article-item" ng-repeat="article in articles"> <div class="content"> <a class="header">{{ article.title }}</a> <div class="time"> <span>{{ article.whenCreated | date:\'yyyy-MM-dd HH:mm\'}}</span> </div> <div class="description"> <p> {{ article.content | replaceHtml}} </p> </div> <!--<div class="at-article-img">--> <!--<img src="/images/yeoman.8cb970fb.png"/>--> <!--</div>--> <div class="at-expert-tag"> <a class="ui red label">{{ article.category.name }}</a> <a class="ui orange label">{{ article.tag }}</a> </div> </div> </div> </div> <observe totalitems="204" listsizes="5" itemsperpage="10"></observe> </div> <div class="six wide column" ng-controller="CommonExpertCtrl"> <div class="ui segment feed"> <div class="event" ng-repeat="trend in trends"> <div class="label"> <img src="{{ trend.user.avatar | showAvatar}}"></div> <div class="content"> <div class="summary"> <a>{{ trend.user.realName }}</a> 发布了动态 <div class="date">{{ trend.whenCreated | date:\'yyyy-MM-dd HH:mm\'}}</div> </div> <div class="extra text"> {{ trend.content }} </div> <!--<div class="meta">--> <!--<a class="like">--> <!--<i class="like icon"></i>--> <!--5 Likes--> <!--</a>--> <!--</div>--> </div> </div> </div> </div> </div> </div> </div>'),a.put("views/expert/trend.html",'<button id="at-button-reply">client</button> <script type="text/javascript">$("#at-button-reply").click(function() {\n    	$(\'.ui.modal\')\n  .modal(\'show\');\n    })();</script> <style type="text/css">#at-model-reply{\n		padding: 25px;\n	}</style> <div class="ui modal" id="at-model-reply"> <i class="close icon"></i> <div class="header">回复</div> <form class="ui reply form"> <div class="field"> <textarea></textarea> </div> <div class="actions"> <div class="ui red deny button">取消</div> <div class="ui positive right labeled icon button"> 确认 <i class="checkmark icon"></i> </div> </div> </form> </div>'),a.put("views/findpassword.html","<p>This is the findPassword view.</p>"),a.put("views/login.html",'<div class="column"> <div class="ui form"> <h1 class="at-title"> <center>登录到农科110</center> </h1> <div class="at-content" style="margin-bottom: 170px"> <form class="" ng-submit="login2()" method="post"> <div class="field"> <label>手机号</label> <div class="ui left icon input"> <input type="text" placeholder="请输入您的手机号" ng-model="phone"> <i class="user icon"></i> </div> </div> <div class="field"> <label>密码</label> <div class="ui left icon input"> <input type="password" placeholder="请输入您的密码" ng-model="password"> <i class="lock icon"></i> </div> </div> <input class="ui green submit button" type="submit" style="width: 100%" value="登陆"> <a href="#/registerFirstStep" style="float: right;margin-bottom: 50px; margin-top: 15px"> 没有帐号?点此注册 </a> </form> </div> </div> </div>'),a.put("views/main.html",'<!-- 轮播图片 --> <div class="ui at-container"> <div class="slider"> <div class="slider-container"> <div class="slider-wrapper"> <!-- 需要上传xxx*xxx格式的图片 --> <!--<div class="slide" ng-repeat="floatAdv in floatAdvs">--> <!--<a href="">--> <!--<img ng-src="{{ floatAdv.image | showResource}}" alt="">--> <!--</a>--> <!--<a href=""><strong>{{ floatAdv.name }}</strong></a>--> <!--<div class="black-nav"></div>--> <!--</div>--> <div class="slide" ng-repeat="floatAdv in floatAdvs"><a href="{{ floatAdv.url }}"><img src="{{ floatAdv.image | showResource}}" alt=""></a> <a href=""><strong>{{ floatAdv.name }}</strong></a> <div class="black-nav"></div></div> <div class="slide"> </div> <div class="slide"> </div> <div class="slide"> </div> </div> </div> </div> </div> <script src="styles/slider.js"></script> <script type="text/javascript">$("#at-expert-card").click(function () {\n        $(\'.ui.modal\').modal(\'show\');\n    });</script> <script type="text/javascript">(function () {\n        Slider.init({\n            target: $(\'.slider\'),\n            time: 5000\n        });\n    })();</script> <!-- slider结束 --> <!-- 资讯 --> <div class="ui at-home-article"> <a class="ui teal ribbon label fz-18" href="#/article?category=26&curParentId=0">农业要闻</a> <div class="ui equal width grid"> <div class="column bg-gray"> <div class="ui secondary pointing menu"> <a class="item active" style="border-color:#009688">通知公告 </a> <div class="right menu"> <a class="ui item" href="#/article?category=26&curParentId=0">更多</a> </div> </div> <div class="ui list at-notice"> <li class="item" ng-repeat="article in articles[0]"> <a href="#/article/{{ article.id }}">{{ article.title }}</a><span class="at-date">{{ article.whenCreated | date:\'yyyy-MM-dd\' }}</span> </li> </div> </div> <div class="column bg-gray"> <div class="ui secondary pointing menu"> <a class="item active" style="border-color:#009688">工作动态 </a> <div class="right menu"> <a class="ui item" href="#/about?category=50">更多 </a> </div> </div> <div class="ui list at-notice"> <li class="item" ng-repeat="article in articles[1]"> <a href="#/article/{{ article.id }}">{{ article.title }}</a><span class="at-date">{{ article.whenCreated | date:\'yyyy-MM-dd\' }}</span> </li> </div> </div> <div class="column bg-gray"> <div class="ui secondary pointing menu"> <a class="item active" style="border-color:#009688">山西农业 </a> <div class="right menu"> <a class="ui item" href="#/article?category=7&curParentId=1">更多 </a> </div> </div> <img class="ui at-wrap image" src="images/山西农业.206162e4.jpg"> <div class="ui list at-notice"> <li class="item" ng-repeat="article in articles[2]"> <a href="#/article/{{ article.id }}">{{ article.title }}</a> </li> </div> </div> </div> </div> <!-- 服务 --> <div class="ui at-home-article"> <a class="ui olive ribbon label fz-18" href="#/question">技术咨询</a> <div class="ui grid bg-gray at-high-mod"> <div class="eight wide column"> <div class="ui"> <div class="ui secondary pointing menu"> <a class="item active" style="border-color:#009688">热点问题 </a> <div class="right menu"> <a class="ui item" href="#/question">更多 </a> </div> </div> <div class="ui list at-notice"> <div class="item"> <div class="ui comments"> <div class="comment" ng-repeat="question in questions"> <a class="avatar"> <img ng-src="{{ question.user.avatar | showAvatar}}"> </a> <div class="content"> <a class="author">{{ question.user.name}}</a> <div class="metadata"> <span class="date">{{ question.whenCreated | date:\'yyyy-MM-dd HH:mm\'}}</span> </div> <div class="text"><a href="#/question/{{question.id}}">{{ question.title }}</a> </div> </div> </div> </div> </div> </div> </div> <!-- 提问按钮 --> <div class="ui centered at-ask"> <a class="ui inverted red button at-ask-button" href="#/question/post">我要提问</a> </div> </div> <div class="eight wide column"> <div class="ui tiny images at-expert-box"> <div class="ui three column grid"> <div class="column" ng-repeat="expert in experts"> <div class="ui at-expert"> <a href="#/expert/{{ expert.id }}/articles"><img class="ui centered medium image at-expert-img" src="{{ expert.user.avatar | showAvatar}}"></a> <h4 class="at-expert-name"> <a href="#/expert/{{ expert.id }}/articles">{{ expert.user.realName }}</a> <p>{{ expert.company }}，{{ expert.duty }}</p> </h4> </div> </div> </div> </div> </div> </div> </div> <!-- 养殖技术 --> <div class="ui at-home-article"> <a class="ui red ribbon label fz-18" href="#/article?category=14&curParentId=4">养殖技术</a> <div class="ui equal width grid"> <div class="column bg-gray"> <div class="ui secondary pointing menu"> <a class="item active" style="border-color:#009688">畜禽养殖 </a> <div class="right menu"> <a class="ui item" href="#/article?category=14&curParentId=4">更多 </a> </div> </div> <div class="ui list"> <li class="item" ng-repeat="article in articles[3]"> <a href="#/article/{{ article.id }}">{{ article.title }}</a><span class="at-date">{{ article.whenCreated | date:\'yyyy-MM-dd\' }}</span> </li> </div> </div> <div class="column bg-gray"> <div class="ui secondary pointing menu"> <a class="item active" style="border-color:#009688">特种养殖 </a> <div class="right menu"> <a class="ui item" href="#/article?category=15&curParentId=4">更多 </a> </div> </div> <img class="ui at-wrap image" src="images/特种养殖.9d598d7c.jpg"> <div class="ui list"> <li class="item" ng-repeat="article in articles[4]"> <a href="#/article/{{ article.id }}">{{ article.title }}</a><span class="at-date">{{ article.whenCreated | date:\'yyyy-MM-dd\' }}</span> </li> </div> </div> <div class="column bg-gray"> <div class="ui secondary pointing menu"> <a class="item active" style="border-color:#009688">水产养殖 </a> <div class="right menu"> <a class="ui item" href="#/article?category=16&curParentId=4">更多 </a> </div> </div> <img class="ui at-wrap image" src="images/水产养殖.c8259fbc.jpg"> <div class="ui list"> <li class="item" ng-repeat="article in articles[5]"> <a href="#/article/{{ article.id }}">{{ article.title }}</a><span class="at-date">{{ article.whenCreated | date:\'yyyy-MM-dd\' }}</span> </li> </div> </div> </div> </div> <!-- 现代农业 --> <div class="ui at-home-article"> <a class="ui green ribbon label fz-18" href="#/article?category=10&curParentId=2">现代农业</a> <div class="ui equal width grid"> <div class="column bg-gray"> <div class="ui secondary pointing menu"> <a class="item active" style="border-color:#009688">科技前沿 </a> <div class="right menu"> <a class="ui item" href="#/article?category=10&curParentId=2">更多 </a> </div> </div> <!--<img class="ui at-wrap image" src="images/20160405093320656214.bdc38b2e.jpg">--> <div class="ui list"> <li class="item" ng-repeat="article in articles[6]"> <a href="#/article/{{ article.id }}">{{ article.title }}</a><span class="at-date">{{ article.whenCreated | date:\'yyyy-MM-dd\' }}</span> </li> </div> </div> <div class="column bg-gray"> <div class="ui secondary pointing menu"> <a class="item active" style="border-color:#009688">成果快报 </a> <div class="right menu"> <a class="ui item" href="#/article?category=11&curParentId=2">更多 </a> </div> </div> <!--<img class="ui at-wrap image" src="images/20160405093320656214.bdc38b2e.jpg">--> <div class="ui list"> <li class="item" ng-repeat="article in articles[7]"> <a href="#/article/{{ article.id }}">{{ article.title }}</a><span class="at-date">{{ article.whenCreated | date:\'yyyy-MM-dd\' }}</span> </li> </div> </div> <div class="column bg-gray"> <div class="ui secondary pointing menu"> <a class="item active" style="border-color:#009688">科技兴农 </a> <div class="right menu"> <a class="ui item" href="#/article?category=12&curParentId=2">更多 </a> </div> </div> <img class="ui at-wrap image" src="images/科技兴农.76302027.jpg"> <div class="ui list"> <li class="item" ng-repeat="article in articles[8]"> <a href="#/article/{{ article.id }}">{{ article.title }}</a><span class="at-date">{{ article.whenCreated | date:\'yyyy-MM-dd\' }}</span> </li> </div> </div> </div> </div> <!-- 种植技术 --> <div class="ui at-home-article"> <a class="ui blue ribbon label fz-18" href="#/article?category=17&curParentId=5">种植技术</a> <div class="ui equal width grid"> <div class="column bg-gray"> <div class="ui secondary pointing menu"> <a class="item active" style="border-color:#009688">农作物 </a> <div class="right menu"> <a class="ui item" href="#/article?category=17&curParentId=5">更多 </a> </div> </div> <img class="ui at-wrap image" src="images/农作物.be1ec879.jpg"> <div class="ui list"> <li class="item" ng-repeat="article in articles[9]"> <a href="#/article/{{ article.id }}">{{ article.title }}</a><span class="at-date">{{ article.whenCreated | date:\'yyyy-MM-dd\' }}</span> </li> </div> </div> <div class="column bg-gray"> <div class="ui secondary pointing menu"> <a class="item active" style="border-color:#009688">果树 </a> <div class="right menu"> <a class="ui item" href="#/article?category=18&curParentId=5">更多 </a> </div> </div> <img class="ui at-wrap image" src="images/果树.90c3c64e.jpg"> <div class="ui list"> <li class="item" ng-repeat="article in articles[10]"> <a href="#/article/{{ article.id }}">{{ article.title }}</a><span class="at-date">{{ article.whenCreated | date:\'yyyy-MM-dd\' }}</span> </li> </div> </div> <div class="column bg-gray"> <div class="ui secondary pointing menu"> <a class="item active" style="border-color:#009688">蔬菜 </a> <div class="right menu"> <a class="ui item" href="#/article?category=19&curParentId=5">更多 </a> </div> </div> <img class="ui at-wrap image" src="images/蔬菜.e87a1cca.jpg"> <div class="ui list"> <li class="item" ng-repeat="article in articles[11]"> <a href="#/article/{{ article.id }}">{{ article.title }}</a><span class="at-date">{{ article.whenCreated | date:\'yyyy-MM-dd\' }}</span> </li> </div> </div> </div> </div> <!-- 供需 --> <div class="ui at-home-article"> <div class="ui grid"> <div class="eight wide column"> </div> <div class="eight wide column"> <div class=""> <a class="ui button at-fr green" href="#/trade/post">发布供需</a> </div> </div> </div> <a class="ui orange ribbon label fz-18">供需信息</a> <div class="ui grid bg-gray"> <div class="eight wide column"> <div class="ui secondary pointing menu"> <a class="item active" style="border-color:#009688">供应 </a> <div class="right menu"> <a class="ui item" href="#/trade">更多 </a> </div> </div> <div class="ui list at-notice"> <div class="item"> <div class="ui comments"> <div class="comment" ng-repeat="trade in trades[0]"> <a class="avatar"> <img src="{{ trade.user.avatar | showAvatar}}"> </a> <div class="content"> <a class="author">{{ trade.user.name }}</a> <div class="metadata"> <span class="date">{{ trade.whenCreated | date:\'yyyy-MM-dd HH:mm\'}}</span> </div> <div class="text"><a href="#/trade/{{trade.id}}">{{ trade.title }}</a></div> </div> </div> </div> </div> </div> </div> <div class="eight wide column"> <div class="ui secondary pointing menu"> <a class="item active" style="border-color:#009688">需求 </a> <div class="right menu"> <a class="ui item" href="#/trade">更多 </a> </div> </div> <div class="ui list at-notice"> <div class="item"> <div class="ui comments"> <div class="comment" ng-repeat="trade in trades[1]"> <a class="avatar"> <img src="{{ trade.user.avatar | showAvatar}}"> </a> <div class="content"> <a class="author">{{ trade.user.name }}</a> <div class="metadata"> <span class="date">{{ trade.whenCreated | date:\'yyyy-MM-dd HH:mm\'}}</span> </div> <div class="text"><a href="#/trade/{{trade.id}}">{{ trade.title }}</a></div> </div> </div> </div> </div> </div> </div> </div> </div> <!-- 农资广场 --> <div class="ui at-home-article"> <a class="ui blue ribbon label fz-18" href="#/article?category=36&curParentId=22">农资广场</a> <div class="ui equal width grid"> <div class="column bg-gray"> <div class="ui secondary pointing menu"> <a class="item active" style="border-color:#009688">农药 </a> <div class="right menu"> <a class="ui item" href="#/article?category=36&curParentId=22">更多 </a> </div> </div> <!--<img class="ui at-wrap image" src="images/20160229090628521340.94bffae1.jpg">--> <div class="ui list"> <li class="item" ng-repeat="article in articles[13]"> <a href="#/article/{{ article.id }}">{{ article.title }}</a><span class="at-date">{{ article.whenCreated | date:\'yyyy-MM-dd\' }}</span> </li> </div> </div> <div class="column bg-gray"> <div class="ui secondary pointing menu"> <a class="item active" style="border-color:#009688">肥料 </a> <div class="right menu"> <a class="ui item" href="#/article?category=37&curParentId=22">更多 </a> </div> </div> <!--<img class="ui at-wrap image" src="images/20160229090628521340.94bffae1.jpg">--> <div class="ui list"> <li class="item" ng-repeat="article in articles[14]"> <a href="#/article/{{ article.id }}">{{ article.title }}</a><span class="at-date">{{ article.whenCreated | date:\'yyyy-MM-dd\' }}</span> </li> </div> </div> <div class="column bg-gray"> <div class="ui secondary pointing menu"> <a class="item active" style="border-color:#009688">种子 </a> <div class="right menu"> <a class="ui item" href="#/article?category=38&curParentId=22">更多 </a> </div> </div> <!--<img class="ui at-wrap image" src="images/20160229090628521340.94bffae1.jpg">--> <div class="ui list"> <li class="item" ng-repeat="article in articles[15]"> <a href="#/article/{{ article.id }}">{{ article.title }}</a><span class="at-date">{{ article.whenCreated | date:\'yyyy-MM-dd\' }}</span> </li> </div> </div> </div> </div> <!-- 农产加工--> <div class="ui at-home-article"> <a class="ui blue ribbon label fz-18" href="#/article?category=46&curParentId=24">农产加工</a> <div class="ui equal width grid"> <div class="column bg-gray"> <div class="ui secondary pointing menu"> <a class="item active" style="border-color:#009688">畜产品加工 </a> <div class="right menu"> <a class="ui item" href="#/article?category=46&curParentId=24">更多 </a> </div> </div> <!--<img class="ui at-wrap image" src="images/20160229090628521340.94bffae1.jpg">--> <div class="ui list"> <li class="item" ng-repeat="article in articles[16]"> <a href="#/article/{{ article.id }}">{{ article.title }}</a><span class="at-date">{{ article.whenCreated | date:\'yyyy-MM-dd\' }}</span> </li> </div> </div> <div class="column bg-gray"> <div class="ui secondary pointing menu"> <a class="item active" style="border-color:#009688">果品加工 </a> <div class="right menu"> <a class="ui item" href="#/article?category=47&curParentId=24">更多 </a> </div> </div> <!--<img class="ui at-wrap image" src="images/20160229090628521340.94bffae1.jpg">--> <div class="ui list"> <li class="item" ng-repeat="article in articles[17]"> <a href="#/article/{{ article.id }}">{{ article.title }}</a><span class="at-date">{{ article.whenCreated | date:\'yyyy-MM-dd\' }}</span> </li> </div> </div> <div class="column bg-gray"> <div class="ui secondary pointing menu"> <a class="item active" style="border-color:#009688">副产品加工 </a> <div class="right menu"> <a class="ui item" href="#/article?category=49&curParentId=24">更多 </a> </div> </div> <!--<img class="ui at-wrap image" src="images/20160229090628521340.94bffae1.jpg">--> <div class="ui list"> <li class="item" ng-repeat="article in articles[19]"> <a href="#/article/{{ article.id }}">{{ article.title }}</a><span class="at-date">{{ article.whenCreated | date:\'yyyy-MM-dd\' }}</span> </li> </div> </div> </div> </div> <!-- 致富信息--> <div class="ui at-home-article"> <a class="ui blue ribbon label fz-18" href="#/article?category=45&curParentId=23">致富信息</a> <div class="ui equal width grid"> <div class="column bg-gray"> <div class="ui secondary pointing menu"> <a class="item active" style="border-color:#009688">农副行情 </a> <div class="right menu"> <a class="ui item" href="#/article?category=45&curParentId=23">更多 </a> </div> </div> <!--<img class="ui at-wrap image" src="images/20160229090628521340.94bffae1.jpg">--> <div class="ui list"> <li class="item" ng-repeat="article in articles[20]"> <a href="#/article/{{ article.id }}">{{ article.title }}</a><span class="at-date">{{ article.whenCreated | date:\'yyyy-MM-dd\' }}</span> </li> </div> </div> <div class="column bg-gray"> <div class="ui secondary pointing menu"> <a class="item active" style="border-color:#009688">赚钱有招 </a> <div class="right menu"> <a class="ui item" href="#/article?category=43&curParentId=23">更多 </a> </div> </div> <!--<img class="ui at-wrap image" src="images/20160229090628521340.94bffae1.jpg">--> <div class="ui list"> <li class="item" ng-repeat="article in articles[21]"> <a href="#/article/{{ article.id }}">{{ article.title }}</a><span class="at-date">{{ article.whenCreated | date:\'yyyy-MM-dd\' }}</span> </li> </div> </div> <div class="column bg-gray"> <div class="ui secondary pointing menu"> <a class="item active" style="border-color:#009688">信息广场 </a> <div class="right menu"> <a class="ui item" href="#/article?category=42&curParentId=23">更多 </a> </div> </div> <!--<img class="ui at-wrap image" src="images/20160229090628521340.94bffae1.jpg">--> <div class="ui list"> <li class="item" ng-repeat="article in articles[22]"> <a href="#/article/{{ article.id }}">{{ article.title }}</a><span class="at-date">{{ article.whenCreated | date:\'yyyy-MM-dd\' }}</span> </li> </div> </div> </div> </div> <!-- 农业机械--> <div class="ui at-home-article"> <a class="ui blue ribbon label fz-18" href="#/article?category=87&curParentId=86">农业机械</a> <div class="ui equal width grid"> <div class="column bg-gray"> <div class="ui secondary pointing menu"> <a class="item active" style="border-color:#009688">产品大全 </a> <div class="right menu"> <a class="ui item" href="#/article?category=87&curParentId=86">更多 </a> </div> </div> <!--<img class="ui at-wrap image" src="images/20160229090628521340.94bffae1.jpg">--> <div class="ui list"> <li class="item" ng-repeat="article in articles[23]"> <a href="#/article/{{ article.id }}">{{ article.title }}</a><span class="at-date">{{ article.whenCreated | date:\'yyyy-MM-dd\' }}</span> </li> </div> </div> <div class="column bg-gray"> <div class="ui secondary pointing menu"> <a class="item active" style="border-color:#009688">政策动态 </a> <div class="right menu"> <a class="ui item" href="#/article?category=88&curParentId=86">更多 </a> </div> </div> <!--<img class="ui at-wrap image" src="images/20160229090628521340.94bffae1.jpg">--> <div class="ui list"> <li class="item" ng-repeat="article in articles[24]"> <a href="#/article/{{ article.id }}">{{ article.title }}</a><span class="at-date">{{ article.whenCreated | date:\'yyyy-MM-dd\' }}</span> </li> </div> </div> <div class="column bg-gray"> <div class="ui secondary pointing menu"> <a class="item active" style="border-color:#009688">技能培训 </a> <div class="right menu"> <a class="ui item" href="#/article?category=89&curParentId=86">更多 </a> </div> </div> <!--<img class="ui at-wrap image" src="images/20160229090628521340.94bffae1.jpg">--> <div class="ui list"> <li class="item" ng-repeat="article in articles[25]"> <a href="#/article/{{ article.id }}">{{ article.title }}</a><span class="at-date">{{ article.whenCreated | date:\'yyyy-MM-dd\' }}</span> </li> </div> </div> </div> </div> <!-- 农事专题--> <div class="ui at-home-article"> <a class="ui blue ribbon label fz-18" href="#/article?category=87&curParentId=86">农事专题</a> <div class="ui equal width grid"> <div class="column bg-gray"> <div class="ui secondary pointing menu"> <a class="item active" style="border-color:#009688">农事专题 </a> <div class="right menu"> <a class="ui item" href="#/article?category=25&curParentId=">更多 </a> </div> </div> <!--<img class="ui at-wrap image" src="images/20160229090628521340.94bffae1.jpg">--> <div class="ui list"> <li class="item" ng-repeat="article in articles[26]"> <a href="#/article/{{ article.id }}">{{ article.title }}</a><span class="at-date">{{ article.whenCreated | date:\'yyyy-MM-dd\' }}</span> </li> </div> </div> </div> </div> <!-- 视频 --> <div class="ui at-home-article"> <a class="ui blue ribbon label fz-18" href="#/video">视频专区</a> <div class="ui secondary pointing menu"> <a ng-click="loadVideos(\'\')" ng-class="{true:\'item active\',false:\'item\'}[curVideoCategoryId==\'\']">全部</a> <div ng-repeat="category in videoCategories"> <a ng-class="{true:\'item active\',false:\'item\'}[category.id == curVideoCategoryId]" ng-click="loadVideos(category.id)">{{ category.name }}</a> </div> <div class="right menu"> <a class="ui item" href="#/video">更多 </a> </div> </div> <div class="ui grid bg-gray at-high-mod2"> <div class="ui grid at-video-box"> <a class="four wide column at-video-cell" ng-repeat="video in videos" href="#/video/{{ video.id }}"> <img class="ui image at-video" src="{{ video.thumbnail | showResource}}"> <p class="at-video-name">{{ video.name }}</p> <div class="at-video-black"></div> </a> </div> </div> </div> <!-- 友情链接 --> <div class="ui at-home-article"> <a class="ui purple ribbon label fz-18">友情链接</a> <div class="ui grid bg-gray at-low-mod centered"> <div class="ui celled horizontal list center"> <a class="item" ng-repeat="link in links" href="http://{{ link.url }}">{{ link.name }}</a> </div> </div> </div>'),
a.put("views/question.html",'<div class="ui breadcrumb at-location"> <a class="section">当前位置</a> <i class="right angle icon divider"></i> <a class="section">问题专区</a> </div> <div class="ui secondary pointing menu"> <a href="#/question?category=" ng-class="{true:\'item active\',false:\'item\'}[curCategoryId==\'\']">全部</a> <a ng-repeat="category in categories" ng-class="{true:\'item active\',false:\'item\'}[category.id == curCategoryId]" href="#/question?category={{ category.id }}">{{ category.name }}</a> </div> <div ng-repeat="question in questions track by $index"> <div class="at-info-main"> <div class="ui list"> <div class="ui segment item"> <img class="ui avatar image" src="{{ question.user.avatar | showAvatar}}"> <div class="content at-question-cont"> <div> <a class="ui teal tag label" id="at-question-label-from">{{ question.category.name }}</a> </div> <div class="at-question-name"> <a>{{ question.user.name }},</a>提问于{{ question.whenCreated | date:\'yyyy-MM-dd HH:mm\' }} </div> <div style="margin-top: 5px"> <a class="at-question-title" href="#/question/{{question.id}}">{{ question.title }}</a> </div> <div class="description"> <p>{{ question.content | replaceHtml }}</p> </div> </div> <div><i ng-click="fav(question,$index)" ng-class="{true:\'heart large icon at-info-icon  at-info-icon-faved\',false:\'heart large icon at-info-icon \'}[question.fav == true]"></i> </div> </div> <div> <a class="ui red tag label" id="at-question-label-ok">{{ question.questionResolveState | showStatus}}</a> </div> </div> </div> </div> <observe totalitems="204" listsizes="5" itemsperpage="10"></observe> <a href="#/question/post" class="at-fb-post" style="display: block"> 我要提问</a>'),a.put("views/question/info.html",'<style>.custom-audio-weixin {\n        position: relative;\n    }\n\n    .custom-audio-bar {\n        width: 185px;\n        height: 42px;\n        left: 50px;\n        cursor: pointer;\n    }\n\n    .custom-audio-bar, .custom-audio-unread {\n        display: inline-block;\n        position: absolute;\n    }\n\n    .custom-audio-bar {\n        background: url(https://b.yzcdn.cn/v2/image/wap/audio/sprite_v5.png) no-repeat;\n        background-size: 400px 175px;\n    }\n\n    .clearfix, .container .content {\n        zoom: 1;\n    }\n\n    .custom-audio-time {\n        display: block;\n        color: #999;\n        font-size: 14px;\n        position: absolute;\n        left: 240px;\n        bottom: 5px\n    }\n\n    .custom-audio-weixin {\n        margin: 20px;\n    }\n\n    .custom-audio-animation {\n        margin-top: 12px;\n        margin-left: 22px;\n        width: 13px;\n        height: 17px;\n    }\n\n    .hide {\n        display: block;\n        visibility: hidden;\n    }\n\n    .custom-audio-bar img {\n        position: absolute;\n        /* left: 21px;\n         top: 12px;*/\n        z-index: 2;\n    }\n\n    .custom-audio-animation-static, .custom-audio-bar, .custom-audio-btn, .custom-audio-unread {\n        background: url(https://b.yzcdn.cn/v2/image/wap/audio/sprite_v5.png) no-repeat;\n        background-size: 400px 175px;\n    }\n\n    .custom-audio-animation-static {\n        background-position: -180px -105px;\n        width: 13px;\n        height: 17px;\n        display: block;\n        position: absolute;\n        left: 21px;\n        top: 12px;\n        z-index: 1;\n    }\n\n    .custom-audio-status-play .custom-audio-bar .custom-audio-animation {\n        display: block !important;\n        visibility: visible;\n    }\n\n    .custom-audio-bar .custom-audio-status {\n        position: absolute;\n        left: 45px;\n        top: 11px;\n    }\n\n    .custom-audio-status {\n        font-size: 12px;\n    }\n\n    .custom-audio-time {\n        color: #999;\n        font-size: 14px;\n        position: absolute;\n        left: 240px;\n        bottom: 5px;\n        display: none;\n    }\n\n    .custom-audio-status-pause .custom-audio-time, .custom-audio-status-play .custom-audio-time, .custom-audio-status-stop .custom-audio-time {\n        display: block;\n    }</style> <div class="at-question-info-all"> <div class="ui breadcrumb" id="at-expert-breadcrumb"> <a class="section">首页</a> <i class="right angle icon divider"></i> <a class="section">问题详情</a> </div> <div class="content" style="margin-top: 10px"> <div class="ui list"> <div class="item ui segment"> <img class="ui avatar image" id="at-question-info-img" ng-src="{{ curQuestion.user.avatar | showAvatar}}"> <div class="content at-question-cont" id="at-question-info-cont"> <div class="at-question-name"> <a>{{ curQuestion.user.name }}</a> </div> <div> <p class="at-question-title">{{ curQuestion.title }}</p> </div> <div class="ui small images" style="margin-top: 15px"> <img ng-show="image != \'\'" ng-repeat="image in images" src="http://storage.workerhub.cn/{{ image }}"> </div> <audio ng-show="curQuestion.mediaId != null" src="{{ \'http://storage.workerhub.cn/\' + curQuestion.mediaId | trustUrl}}" controls> Your browser does not support the audio element. </audio> <div class="description"> <p> {{ curQuestion.content }} </p> </div> </div> </div> </div> </div> <div class="answer"> <div class="at-question-answer-title ui secondary pointing menu"><a class="active item">解决方案</a></div> <div class="ui list"> <div class="item ui segment" ng-if="hasAnswer"> <img class="ui avatar image" id="at-question-info-img" src="{{ curQuestion.expert.avatar | showAvatar }}"> <div class="content at-question-cont" id="at-question-info-cont"> <div class="at-question-name"> <a>{{ curQuestion.expert.realName }}</a> </div> <div class="description"> <p> {{ curQuestion.answer }} </p> </div> </div> </div> <div class="item" ng-if="!hasAnswer"> <h1>暂无回答</h1> </div> </div> </div> </div> <!--<script charset="utf-8" src="https://b.yzcdn.cn/v2/build/wap/common_jquery_75554d22a0.js"></script>--> <!--<script charset="utf-8" src="https://b.yzcdn.cn/v2/build/wap/showcase/modules/audio_37df0347f6.js"></script>--> <!--<script>--> <!--!function (t) {--> <!--t($)--> <!--}(function (t) {--> <!--function i() {--> <!--var t = document.createElement("input");--> <!--return t.setAttribute("type", "range"), "text" !== t.type--> <!--}--> <!--function e(t, i) {--> <!--var e = Array.prototype.slice.call(arguments, 2);--> <!--return setTimeout(function () {--> <!--return t.apply(null, e)--> <!--}, i)--> <!--}--> <!--function s(t, i) {--> <!--return i = i || 100, function () {--> <!--if (!t.debouncing) {--> <!--var e = Array.prototype.slice.apply(arguments);--> <!--t.lastReturnVal = t.apply(window, e), t.debouncing = !0--> <!--}--> <!--return clearTimeout(t.debounceTimeout), t.debounceTimeout = setTimeout(function () {--> <!--t.debouncing = !1--> <!--}, i), t.lastReturnVal--> <!--}--> <!--}--> <!--function n(t) {--> <!--return 0 !== t.offsetWidth || 0 !== t.offsetHeight ? !1 : !0--> <!--}--> <!--function o(t) {--> <!--for (var i = [], e = t.parentNode; n(e);)i.push(e), e = e.parentNode;--> <!--return i--> <!--}--> <!--function a(t, i) {--> <!--var e = o(t), s = e.length, n = [], a = t[i];--> <!--if (s) {--> <!--for (var r = 0; s > r; r++)n[r] = e[r].style.display, e[r].style.display = "block", e[r].style.height = "0", e[r].style.overflow = "hidden", e[r].style.visibility = "hidden";--> <!--a = t[i];--> <!--for (var h = 0; s > h; h++)e[h].style.display = n[h], e[h].style.height = "", e[h].style.overflow = "", e[h].style.visibility = ""--> <!--}--> <!--return a--> <!--}--> <!--function r(i, n) {--> <!--if (this.$window = t(window), this.$document = t(document), this.$element = t(i), this.options = t.extend({}, p, n), this._defaults = p, this._name = h, this.startEvent = this.options.startEvent.join("." + h + " ") + "." + h, this.moveEvent = this.options.moveEvent.join("." + h + " ") + "." + h, this.endEvent = this.options.endEvent.join("." + h + " ") + "." + h, this.polyfill = this.options.polyfill, this.onInit = this.options.onInit, this.onSlide = this.options.onSlide, this.onSlideEnd = this.options.onSlideEnd, this.polyfill && u)return !1;--> <!--this.identifier = "js-" + h + "-" + d++, this.min = parseFloat(this.$element[0].getAttribute("min") || 0), this.max = parseFloat(this.$element[0].getAttribute("max") || 100), this.value = parseFloat(this.$element[0].value || this.min + (this.max - this.min) / 2), this.step = parseFloat(this.$element[0].getAttribute("step") || 1), this.toFixed = (this.step + "").replace(".", "").length - 1, this.$fill = t(\'<div class="\' + this.options.fillClass + \'" />\'), this.$handle = t(\'<div class="\' + this.options.handleClass + \'" />\'), this.$range = t(\'<div class="\' + this.options.rangeClass + \'" id="\' + this.identifier + \'" />\').insertAfter(this.$element).prepend(this.$fill, this.$handle), this.$element.css({--> <!--position: "absolute",--> <!--width: "1px",--> <!--height: "1px",--> <!--overflow: "hidden",--> <!--opacity: "0"--> <!--}), this.handleDown = t.proxy(this.handleDown, this), this.handleMove = t.proxy(this.handleMove, this), this.handleEnd = t.proxy(this.handleEnd, this), this.init();--> <!--var o = this;--> <!--this.$window.on("resize." + h, s(function () {--> <!--e(function () {--> <!--o.update()--> <!--}, 300)--> <!--}, 20)), this.$document.on(this.startEvent, "#" + this.identifier + ":not(." + this.options.disabledClass + ")", this.handleDown), this.$element.on("change." + h, function (t, i) {--> <!--if (!i || i.origin !== h) {--> <!--var e = t.target.value, s = o.getPositionFromValue(e);--> <!--o.setPosition(s)--> <!--}--> <!--})--> <!--}--> <!--var h = "rangeslider", l = [], d = 0, u = i(), p = {--> <!--polyfill: !0,--> <!--rangeClass: "rangeslider",--> <!--disabledClass: "rangeslider&#45;&#45;disabled",--> <!--fillClass: "rangeslider__fill",--> <!--handleClass: "rangeslider__handle",--> <!--startEvent: ["mousedown", "touchstart", "pointerdown"],--> <!--moveEvent: ["mousemove", "touchmove", "pointermove"],--> <!--endEvent: ["mouseup", "touchend", "pointerup"]--> <!--};--> <!--r.prototype.init = function () {--> <!--this.onInit && "function" == typeof this.onInit && this.onInit(), this.update()--> <!--}, r.prototype.setMax = function (t) {--> <!--this.max = t--> <!--}, r.prototype.update = function () {--> <!--this.handleWidth = a(this.$handle[0], "offsetWidth"), this.rangeWidth = a(this.$range[0], "offsetWidth"), this.maxHandleX = this.rangeWidth - this.handleWidth, this.grabX = this.handleWidth / 2, this.position = this.getPositionFromValue(this.value), this.$element[0].disabled ? this.$range.addClass(this.options.disabledClass) : this.$range.removeClass(this.options.disabledClass), this.setPosition(this.position)--> <!--}, r.prototype.handleDown = function (t) {--> <!--if (t.preventDefault(), this.$document.on(this.moveEvent, this.handleMove), this.$document.on(this.endEvent, this.handleEnd), !((" " + t.target.className + " ").replace(/[\\n\\t]/g, " ").indexOf(this.options.handleClass) > -1)) {--> <!--var i = this.getRelativePosition(t), e = this.$range[0].getBoundingClientRect().left, s = this.getPositionFromNode(this.$handle[0]) - e;--> <!--this.setPosition(i - this.grabX), i >= s && i < s + this.handleWidth && (this.grabX = i - s)--> <!--}--> <!--}, r.prototype.setStatus = function (t) {--> <!--this.__status = t--> <!--}, r.prototype.getStatus = function (t) {--> <!--return this.__status--> <!--}, r.prototype.handleMove = function (t) {--> <!--t.preventDefault();--> <!--var i = this.getRelativePosition(t);--> <!--this.setPosition(i - this.grabX), this.setStatus("MOVE")--> <!--}, r.prototype.handleEnd = function (t) {--> <!--t.preventDefault(), this.$document.off(this.moveEvent, this.handleMove), this.$document.off(this.endEvent, this.handleEnd), this.setStatus(void 0), this.onSlideEnd && "function" == typeof this.onSlideEnd && this.onSlideEnd(this.position, this.value)--> <!--}, r.prototype.cap = function (t, i, e) {--> <!--return i > t ? i : t > e ? e : t--> <!--}, r.prototype.setPosition = function (t) {--> <!--var i, e;--> <!--i = this.getValueFromPosition(this.cap(t, 0, this.maxHandleX)), e = this.getPositionFromValue(i), this.$fill[0].style.width = e + this.grabX + "px", this.$handle[0].style.left = e + "px", this.setValue(i), this.position = e, this.value = i, this.onSlide && "function" == typeof this.onSlide && this.onSlide(e, i)--> <!--}, r.prototype.getPositionFromNode = function (t) {--> <!--for (var i = 0; null !== t;)i += t.offsetLeft, t = t.offsetParent;--> <!--return i--> <!--}, r.prototype.getRelativePosition = function (t) {--> <!--var i = this.$range[0].getBoundingClientRect().left, e = 0;--> <!--return t.originalEvent = t.originalEvent || t, "undefined" != typeof t.pageX && 0 !== t.pageX ? e = t.pageX : "undefined" != typeof t.originalEvent.clientX ? e = t.originalEvent.clientX : t.originalEvent.touches && t.originalEvent.touches[0] && "undefined" != typeof t.originalEvent.touches[0].clientX ? e = t.originalEvent.touches[0].clientX : t.currentPoint && "undefined" != typeof t.currentPoint.x && (e = t.currentPoint.x), e - i--> <!--}, r.prototype.getPositionFromValue = function (t) {--> <!--var i, e;--> <!--return i = (t - this.min) / (this.max - this.min), e = i * this.maxHandleX--> <!--}, r.prototype.getValueFromPosition = function (t) {--> <!--var i, e;--> <!--return i = t / (this.maxHandleX || 1), e = this.step * Math.round(i * (this.max - this.min) / this.step) + this.min, Number(e.toFixed(this.toFixed))--> <!--}, r.prototype.setValue = function (t) {--> <!--t !== this.value && this.$element.val(t).trigger("change", {origin: h})--> <!--}, r.prototype.destroy = function () {--> <!--this.$document.off(this.startEvent, "#" + this.identifier, this.handleDown), this.$element.off("." + h).removeAttr("style").removeData("plugin_" + h), this.$range && this.$range.length && this.$range[0].parentNode.removeChild(this.$range[0]), l.splice(l.indexOf(this.$element[0]), 1), l.length || this.$window.off("." + h)--> <!--}, t.fn[h] = function (i) {--> <!--return this.each(function () {--> <!--var e = t(this), s = e.data("plugin_" + h);--> <!--s || (e.data("plugin_" + h, s = new r(this, i)), l.push(this)), "string" == typeof i && s[i]()--> <!--})--> <!--}--> <!--}), define("wap/showcase/modules/audio/rangeslider", function () {--> <!--}), define("wap/showcase/modules/audio/audio", ["require", "wap/showcase/modules/audio/rangeslider"], function (t) {--> <!--t("wap/showcase/modules/audio/rangeslider"), function () {--> <!--var t = "PLAY", i = "STOP", e = "PAUSE", s = "ERROR", n = "custom-audio-status-loading", o = "custom-audio-status-play", a = "custom-audio-status-stop", r = "custom-audio-status-pause", h = function () {--> <!--}, l = function (t) {--> <!--if (!(this instanceof l))return new l(t);--> <!--if (this.target = t.target, this.$target = $(this.target), this.$trigger = this.$target.find(".js-trigger"), this.$trigger.length <= 0 && (this.$trigger = this.$target), this.$duration = this.$target.find(".js-duration"), this.$currentTime = this.$target.find(".js-current-time"), this.$percentage = this.$target.find(".js-percentage"), this.$status = this.$target.find(".js-status"), this.$loading = this.$target.find(".js-loading"), this.$title = this.$target.find(".js-title"), this.pureSrc = this.$target.data("src"), this.src = this.pureSrc , this.reload = this.$target.data("reload"), this.loop = this.$target.data("loop"), this.callback = {}, this.callback.play = t.play || h, this.callback.pause = t.pause || h, this.callback.stop = t.stop || h, this.$target.length <= 0)throw new Error("音频DOM对象不能为空");--> <!--if (!this.src)throw new Error("音频文件地址不能为空");--> <!--this.audio = new Audio, this.$audio = $(this.audio), this.init(), l._cache.indexOf(this) < 0 && l._cache.push(this)--> <!--};--> <!--l._cache = [], l.prototype = {--> <!--init: function () {--> <!--this.addEvent()--> <!--}, initRangeSlider: function () {--> <!--var t = this;--> <!--this.$percentage.attr("max", this._duration), this.$percentage.rangeslider({--> <!--polyfill: !1,--> <!--onSlide: function (i, e) {--> <!--t._updateCurrentTime(e)--> <!--},--> <!--onSlideEnd: function (i, e) {--> <!--t.audio.currentTime = e--> <!--}--> <!--})--> <!--}, leading: function (t) {--> <!--var i = 1 === t.toString().length ? "0" : "";--> <!--return i--> <!--}, getDuration: function () {--> <!--if (!this._duration) {--> <!--var t = this.pureSrc;--> <!--return t = t.split("?")[0] + "?avinfo", $._ajax({url: t, dataType: "json"})--> <!--}--> <!--}, _updateDuration: function (t) {--> <!--var i = parseInt(t / 60, 10), e = parseInt(t % 60, 10), s = this.leading(i) + i + ":" + this.leading(e) + e;--> <!--this.$duration.text(s)--> <!--}, updateCurrentTime: function (t) {--> <!--var i = t.target, e = Math.floor(+i.currentTime), s = Math.floor(+i.duration), n = this.$percentage.data("plugin_rangeslider");--> <!--if (s !== this._duration && (this._duration = s, n && n.length > 0 && n.setMax(s)), !isNaN(s)) {--> <!--if (this.loaded(), n && n.length > 0) {--> <!--var o = n.getStatus();--> <!--if (o)return--> <!--}--> <!--this._updateCurrentTime(e)--> <!--}--> <!--}, _updateCurrentTime: function (t) {--> <!--var i = parseInt(t / 60, 10), e = parseInt(t % 60, 10), s = this.leading(i) + i + ":" + this.leading(e) + e + "/";--> <!--this.$currentTime.text(s)--> <!--}, updatePercentage: function (t) {--> <!--if (!(this.$percentage.length < 1)) {--> <!--var i = this.$percentage.data("plugin_rangeslider").getStatus();--> <!--if (!i) {--> <!--var e = t.target, s = Math.floor(+e.currentTime);--> <!--this.$percentage.val(s).change()--> <!--}--> <!--}--> <!--}, showStatus: function (t) {--> <!--this.$title.hide(), this.$status.text(t).show()--> <!--}, clearStatus: function () {--> <!--this.$title.show(), this.$status.hide(), this.$status.text("")--> <!--}, loading: function () {--> <!--this.$loading.css("display", "block"), this.$target.addClass(n)--> <!--}, loaded: function () {--> <!--this.$loading.css("display", "none"), this._status === t && (this.$target.addClass(o), this.$target.removeClass(r), this.$target.removeClass(a), this.$target.removeClass(n))--> <!--}, addEvent: function () {--> <!--var i = this;--> <!--this.$audio.on("play", function (t) {--> <!--i.clearStatus()--> <!--}), this.$audio.on("canplay", function () {--> <!--i._loaded || i.durationDefer.done(function (t) {--> <!--var e = Math.floor(+t.format.duration);--> <!--i._duration = e, i.initRangeSlider(), i._updateDuration(e), i._isLoading = !1, i._loaded = !0, i.loaded(), i.play()--> <!--})--> <!--}), this.$audio.on("timeupdate", function (t) {--> <!--i.updateCurrentTime(t), i.updatePercentage(t)--> <!--}), this.$audio.on("error", function (t) {--> <!--i.showStatus("加载失败，点击重试?"), i._loaded = !1, i._status = s, i.$loading.css("display", "none"), i.$target.removeClass(o), i.$target.removeClass(r), i.$target.removeClass(a), i.$target.removeClass(n)--> <!--}), this.$audio.on("ended", function (t) {--> <!--i.stop()--> <!--}), this.$trigger.on("click", function () {--> <!--return i._isLoading ? void 0 : i._loaded ? void(i._status !== t ? i.play() : i.reload ? i.stop() : i.pause()) : (i._isLoading = !0, void i.load())--> <!--})--> <!--}, load: function () {--> <!--this.loading(), this.durationDefer = this.getDuration();--> <!--var t = {loop: this.loop, preload: "auto", src: this.src};--> <!--for (var i in t)t.hasOwnProperty(i) && i in this.audio && (this.audio[i] = t[i]);--> <!--this.audio.load()--> <!--}, play: function () {--> <!--if (this._status !== t) {--> <!--for (var i = 0; i < l._cache.length; i++)l._cache[i] !== this && l._cache[i].stop();--> <!--this.audio.play(), this._status = t, this.callback.play()--> <!--}--> <!--}, pause: function () {--> <!--this._status === t && (this.audio.pause(), this._status = e, this.callback.pause(), this.$target.addClass(r), this.$target.removeClass(o), this.$target.removeClass(a))--> <!--}, stop: function () {--> <!--this._status === t && (this.audio.pause(), this.audio.currentTime = 0, this._status = i, this.callback.stop(), this.$target.addClass(a), this.$target.removeClass(r), this.$target.removeClass(o))--> <!--}--> <!--}, l.prototype.constructor = l, $.fn.audioPlayer = function (t) {--> <!--t = t || {}, $.each(this, function (i, e) {--> <!--var s = $.extend({target: e}, t);--> <!--l(s)--> <!--})--> <!--}--> <!--}()--> <!--}), require(["wap/showcase/modules/audio/audio"], function () {--> <!--$(".js-audio").audioPlayer()--> <!--}), define("main", function () {--> <!--});--> <!--</script>-->'),a.put("views/question/post.html",'<div class="column"> <form class="ui form" ng-submit="createQuestion()"> <h1 class="at-title"> <center>{{ desc }}</center> </h1> <div class="at-post-content"> <div class="field"> <label>问题标题</label> <div class="ui left input at-signup-text"> <input type="text" ng-model="title" placeholder="问题的简单概括，5-45字"> </div> </div> <div class="field"> <label>问题描述</label> <div class="ui left input at-signup-text"> <textarea name="name" rows="8" cols="40" ng-model="content" placeholder="问题的详细描述，5-255字"></textarea> </div> </div> <div class="ui custom images"> <img ng-repeat="image in images" src="{{ image }}"> </div> <div class="field"> <label>选择上传图片</label> <div class="upload-container" id="upload-container"> <input type="file" id="pickfiles" name="image"> </div> </div> <div class="field"> <label>问题分类</label> <input type="hiden" ng-hide="true" ng-model="categoryId" id="categoryId"> <div class="ui search selection dropdown"> <input type="hidden" name="category"> <i class="dropdown icon"></i> <div class="menu"> <div ng-repeat="category in categories" class="item" data-value="{{ category.id }}"> {{ category.name }} </div> </div> <div class="default text">选择分类</div> </div> </div> <div class="field" style="display: none"> <div class="inline fields"> <label>您是否经营产业?</label> <div class="field"> <div class="ui radio checkbox"> <input type="radio" name="property"> <label>有</label> </div> </div> <div class="field"> <div class="ui radio checkbox"> <input type="radio" name="property" checked> <label>无</label> </div> </div> </div> </div> <div class="field" style="display: none"> <label>产业类型</label> <div class="ui left icon input at-signup-text"> <input type="text"> <!-- <i class="lock icon"></i> --> </div> </div> <div class="field" style="display: none"> <label>产业规模</label> <div class="ui left icon input at-signup-text"> <input type="text"> <!-- <i class="lock icon"></i> --> </div> </div> <center><input type="submit" class="fluid ui green submit button" value="提交"></center> </div> </form> </div>'),a.put("views/registerfirststep.html",'<div class="column"> <div class="ui form"> <h1 class="at-title"> <center>注册成为农科110会员</center> </h1> <div class="at-content"> <form class=""> <div class="field"> <label>手机号</label> <div class="ui left icon input at-signup-text"> <input type="text" placeholder="手机号码" ng-model="phone"> <i class="phone icon"></i> </div> </div> <div class="field"> <div class="ui action input"> <input type="text" ng-model="verifyCode" placeholder="输入验证码"> <button class="ui button" ng-click="sendVerifyCode()">{{ identifyTime }}</button> </div> </div> <div class="field"> <label>用户名</label> <div class="ui left icon input at-signup-text"> <input type="text" placeholder="用户名" ng-model="name"> <i class="user icon"></i> </div> </div> <div class="field"> <label>密码</label> <div class="ui left icon input at-signup-text"> <input type="password" placeholder="请输入密码" ng-model="password"> <i class="lock icon"></i> </div> </div> <div class="field"> <label>确认密码</label> <div class="ui left icon input at-signup-text"> <input type="password" placeholder="请重复上次密码"> <i class="lock icon"></i> </div> </div> <center> <input class="ui green submit button" type="submit" ng-click="signup()" value="立即注册"> </center> </form> </div> </div> </div>'),a.put("views/registersecondstep.html",'<div class="column"> <div class="ui form at-"> <h1 class="at-title"> <center>为了给您更好的服务，完善您的相关信息</center> </h1> <div class="at-content"> <form ng-submit="saveProfile()"> <div class="field"> <label>真实姓名</label> <div class="ui left icon input at-signup-text"> <input type="text" placeholder="姓名" ng-model="realName"> <i class="user icon"></i> </div> </div> <div class="field"> <label>地址</label> <div class="ui left icon input at-signup-text"> <input type="text" ng-model="address"> <i class="home icon"></i> </div> </div> <div class="field"> <label>产业类型</label> <div class="ui left icon input at-signup-text"> <input type="text" ng-model="industry"> <!-- <i class="lock icon"></i> --> </div> </div> <div class="field"> <label>产业规模</label> <div class="ui left icon input at-signup-text"> <input type="text" ng-model="scale"> <!-- <i class="lock icon"></i> --> </div> </div> <center> <div class="ui green submit button">完成</div> </center> </form> </div> </div> </div>'),a.put("views/setnewpassword.html","<p>This is the setNewPassword view.</p>"),a.put("views/trade.html",'<div class="ui breadcrumb at-location"> <a class="section">当前位置</a> <i class="right angle icon divider"></i> <a class="section">信息专区</a> </div> <div class="ui secondary pointing menu"> <a ng-class="{true:\'item active\',false:\'item\'}[curType == \'DEMAND\']" href="#/trade?type=DEMAND">供应</a> <a ng-class="{true:\'item active\',false:\'item\'}[curType == \'SUPPLY\']" href="#/trade?type=SUPPLY">需求</a> <div class="right menu"> <div ng-repeat="category in categories"> <a ng-class="{true:\'item active\',false:\'item\'}[category.id == curCategoryId]" href="#/trade?category={{ category.id }}">{{ category.name }}</a> </div> </div> </div> <div class="at-info-main ui segment" ng-repeat="trade in trades"> <div class="ui list"> <div class="item"> <img class="ui avatar image" src="{{ trade.user.avatar | showAvatar}}"> <div class="content at-info-cont"> <a class="">{{ trade.user.name }}</a> <div class="description"> <a id="at-info-title" href="#/trade/{{trade.id}}">{{ trade.title }}</a> <p> {{ trade.description | replaceHtml }} </p> </div> </div> </div> </div> <div class="at-info-date"> {{ trade.whenCreated | date:\'yyyy-MM-dd HH:mm\' }} <span><i class="marker icon"></i>{{ trade.user.address }}</span> </div> <i ng-click="fav(trade,$index)" ng-class="{true:\'heart large icon at-info-icon  at-info-icon-faved\',false:\'heart large icon at-info-icon \'}[trade.fav == true]"></i> </div> <observe totalitems="204" listsizes="5" itemsperpage="10"></observe> <a href="#/trade/post" class="at-fb-post" style="display: block">发布交易</a>'),a.put("views/trade/info.html",'<div class="at-question-info-all"> <div class="ui breadcrumb" id="at-expert-breadcrumb"> <a class="section">首页</a> <i class="right angle icon divider"></i> <a class="section">交易详情</a> </div> <div class="content" style="margin-top: 10px"> <div class="ui list"> <div class="item ui segment"> <img class="ui avatar image" id="at-question-info-img" src="{{ curTrade.user.avatar | showAvatar }}"> <div class="content at-question-cont" id="at-question-info-cont"> <div class="at-question-name"> <a>{{ curTrade.user.name }}</a> </div> <div> <p class="at-question-title">{{ curTrade.title }}</p> </div> <div class="ui small images" style="margin-top: 15px"> <img ng-show="image != \'\'" ng-repeat="image in images" src="http://storage.workerhub.cn/{{ image }}"> </div> <div class="description"> <p> {{ curTrade.description }} </p> </div> </div> </div> </div> </div> </div>'),a.put("views/trade/post.html",'<div class="column"> <form class="ui form" ng-submit="createTrade()"> <h1 class="at-title"> <center>供求发布</center> </h1> <div class="at-post-content"> <div class="field"> <label>供求标题</label> <div class="ui left input at-signup-text"> <input type="text" ng-model="title" placeholder="供求的简单概括，5-45字"> </div> </div> <div class="field"> <label>供求描述</label> <div class="ui left input at-signup-text"> <textarea name="name" rows="8" cols="40" ng-model="content" placeholder="供求的详细描述，5-255字"></textarea> </div> </div> <div class="ui custom images"> <img ng-repeat="image in images" src="{{ image }}"> </div> <div class="field"> <label>选择上传图片</label> <div class="upload-container" id="upload-container"> <input type="file" id="pickfiles" name="image"> </div> </div> <div class="field"> <label>问题分类</label> <input type="hiden" ng-hide="true" ng-model="categoryId" id="categoryId"> <div class="ui search selection dropdown"> <input type="hidden" name="category"> <i class="dropdown icon"></i> <div class="menu"> <div ng-repeat="category in categories" class="item" data-value="{{ category.id }}"> {{ category.name }} </div> </div> <div class="default text">选择分类</div> </div> </div> <div class="field"> <div class="inline fields"> <label>请选择供应或者需求?</label> <input type="hiden" ng-hide="true" ng-model="tradeType" id="tradeType"> <div class="field"> <select name="" class="ui selection dropdown tradeType" id=""> <option value="DEMAND">需求</option> <option value="SUPPLY">供应</option> </select> </div> </div> </div> <center><input type="submit" class="fluid ui green submit button" value="提交"></center> </div> </form> </div> <script type="text/javascript">$(\'.ui.dropdown\').dropdown();\n    $(\'.tradeType\').dropdown();</script>'),a.put("views/usercenter/album.html",'<div class="ui grid"> <div class="four wide column usercenter-nav"> <div ng-include="\'../include/usernav.html\'"></div> </div> <div class="twelve wid usercenter-right"> <div class="ui secondary pointing menu"> <a class="item active" data-tab="first">我的相册</a> <div class="right menu" style="margin-bottom: 5px"> <a class="ui basic button"><i class="icon upload"></i>添加照片</a> </div> </div> <div class="ui bottom attached tab segment active" data-tab="first"> <div class="ui grid bg-gray at-high-mod2"> <div class="ui grid at-video-box"> <div class="four wide column" href="#/"> <img class="ui image at-video" src="images/Fl201512241629035405.7e11eb6f.jpg"> <p>时间：2016年5月8日16:04:46</p> <p>会议图片会议图片会议图片会议图片</p> </div> <div class="four wide column" href="#/"> <img class="ui image at-video" src="images/Fl201512241629035405.7e11eb6f.jpg"> <p>时间：2016年5月8日16:04:46</p> <p>会议图片</p> </div> <div class="four wide column" href="#/"> <img class="ui image at-video" src="images/Fl201512241629035405.7e11eb6f.jpg"> <p>时间：2016年5月8日16:04:46</p> <p>会议图片</p> </div> <div class="four wide column" href="#/"> <img class="ui image at-video" src="images/Fl201512241629035405.7e11eb6f.jpg"> <p>时间：2016年5月8日16:04:46</p> <p>会议图片</p> </div> </div> </div> </div> </div> </div>'),a.put("views/usercenter/assignedquestion.html",'<div class="ui grid"> <div class="four wide column usercenter-nav"> <div ng-include="\'../include/usernav.html\'"></div> </div> <div class="twelve wid usercenter-right"> <div class="ui secondary pointing menu"> <a ng-class="{true:\'item active\',false:\'item\'}[curStatus == \'RESOLVED\']" href="#/usercenter/assignedQuestion?status=RESOLVED">已解决</a> <a ng-class="{true:\'item active\',false:\'item\'}[curStatus == \'UNRESOLV\']" href="#/usercenter/assignedQuestion?status=UNRESOLV">待解决</a> </div> <div class="at-info-main"> <div class="ui list"> <div class="item ui segment" ng-repeat="question in questions"> <div class="content at-question-cont"> <div> <a class="ui teal tag label at-question-label-from">{{ question.category.name }}</a> </div> <div> <a class="at-question-title" href="#/question/{{question.id}}">{{ question.title }}</a> </div> <div class="description"> <p> {{ question.content }} </p> </div> </div> </div> </div> <observe totalitems="204" listsizes="5" itemsperpage="10"></observe> </div> </div> </div>'),a.put("views/usercenter/changepassword.html",'<div class="ui grid"> <div class="four wide column usercenter-nav"> <div ng-include="\'../include/usernav.html\'"></div> </div> <div class="twelve wid usercenter-right"> <form class="ui form"> <div class="field"> <label>输入旧密码</label> <div class="ui left icon input at-signup-text usercenter-input1"> <input type="text" ng-model="oldPassword" placeholder="旧密码"> <i class="lock icon"></i> </div> </div> <div class="field"> <label>输入新密码</label> <div class="ui left icon input at-signup-text usercenter-input1"> <input type="text" ng-model="newPassword" placeholder="新密码"> <i class="lock icon"></i> </div> </div> <a class="ui green submit button" ng-click="updatePassword()">保存</a> </form> </div> </div>'),
a.put("views/usercenter/expertprofile.html",'<div class="ui grid"> <div class="four wide column usercenter-nav"> <div ng-include="\'../include/usernav.html\'"></div> </div> <div class="twelve wid usercenter-right"> <form class="ui form"> <div class="field"> <label>所属领域</label> <input type="hiden" ng-hide="true" ng-model="categoryId" id="categoryId"> <div class="ui search selection dropdown remote example"> <i class="dropdown icon"></i> <div class="menu"> <div ng-repeat="category in categories" class="item" data-value="{{ category.id }}"> {{ category.name }} </div> </div> <div class="default text">选择领域</div> </div> </div> <!--categoryId--> <div class="field"> <label>职称</label> <div class="ui left input at-signup-text usercenter-input2"> <input type="text" ng-model="professional" placeholder="职称"> </div> </div> <div class="field"> <label>职务</label> <div class="ui left input at-signup-text usercenter-input2"> <input type="text" ng-model="duty" placeholder="职务"> </div> </div> <div class="field"> <label>简介</label> <div class="ui left input at-signup-text usercenter-input2"> <textarea type="text" ng-model="introduction" placeholder="简介"></textarea> </div> </div> <div class="field"> <label>服务项目</label> <div class="ui left input at-signup-text usercenter-input2"> <input type="text" ng-model="service" placeholder="服务项目"> </div> </div> <div class="field"> <label>单位</label> <div class="ui left input at-signup-text usercenter-input2"> <input type="text" ng-model="company" placeholder="单位"> </div> </div> <div class="ui green submit button" ng-click="saveProfile()">保存</div> </form></div>  </div> '),a.put("views/usercenter/index.html",'<div class="ui grid"> <div class="four wide column usercenter-nav"> <div ng-include="\'../include/usernav.html\'"></div> </div> <div class="twelve wid usercenter-right"> <div class="ui segment feed"> <div class="event" ng-repeat="message in messages"> <div class="label"> <img src="{{ message.user.avatar | showAvatar}}"></div> <div class="content"> <div class="summary"> <a>[{{ message.messageType | showMessageType }}]</a> {{ message.title }} <div class="date">{{ message.whenCreated | date:\'yyyy-MM-dd HH:mm\'}}</div> </div> <div class="extra text"> {{ message.remark }} </div> <div class="meta"> <a class="like" ng-if="message.markRead"> <i class="like icon"></i> 已读 </a> <a class="like" ng-if="!message.markRead"> <i class="like red icon"></i> 未读 </a> </div> </div> </div> </div> <observe totalitems="204" listsizes="5" itemsperpage="10"></observe> </div> </div>'),a.put("views/usercenter/message.html",'<div class="ui grid"> <div class="four wide column usercenter-nav"> <div ng-include="\'../include/usernav.html\'"></div> </div> <div class="twelve wid usercenter-right"> <div class="ui segment feed"> <div class="event" ng-repeat="message in messages"> <div class="label"> <img src="{{ message.user.avatar | showAvatar}}"></div> <div class="content"> <div class="summary"> <a>[{{ message.messageType | showMessageType }}]</a> {{ message.title }} <div class="date">{{ message.whenCreated | date:\'yyyy-MM-dd HH:mm\'}}</div> </div> <div class="extra text"> {{ message.remark }} </div> <div class="meta"> <a class="like" ng-if="message.markRead"> <i class="like icon"></i> 已读 </a> <a class="like" ng-if="!message.markRead"> <i class="like red icon"></i> 未读 </a> </div> </div> </div> </div> <observe totalitems="204" listsizes="5" itemsperpage="10"></observe> </div> </div>'),a.put("views/usercenter/myarticle.html",'<div class="ui grid"> <div class="four wide column usercenter-nav"> <div ng-include="\'../include/usernav.html\'"></div> </div> <div class="twelve wid usercenter-right"> <div class="ui items" ng-repeat="article in articles"> <div class="ui items segment at-article-item"> <div class="content"> <a class="header at-article-title" href="#/article/{{ article.id }}">{{ article.title }}</a> <div class="time"> <span>{{ article.whenCreated | date:\'yyyy-MM-dd HH:mm\' }}</span> </div> <div class="description"> <p style="max-height: 181px;overflow: hidden; line-height: 25px"> {{ article.content | replaceHtml}} </p> </div> <div class="at-expert-tag"> <a class="ui red label">{{ article.category.name }}</a> <a class="ui orange label">{{ article.tag }}</a> </div> </div> </div> </div> <observe totalitems="204" listsizes="5" itemsperpage="10"></observe> </div> </div>'),a.put("views/usercenter/myquestion.html",'<div class="ui grid"> <div class="four wide column usercenter-nav"> <div ng-include="\'../include/usernav.html\'"></div> </div> <div class="twelve wid usercenter-right"> <div class="ui secondary pointing menu"> <a ng-class="{true:\'item active\',false:\'item\'}[curStatus == \'RESOLVED\']" href="#/usercenter/myquestion?status=RESOLVED">已解决</a> <a ng-class="{true:\'item active\',false:\'item\'}[curStatus == \'WAIT_RESOLVE\']" href="#/usercenter/myquestion?status=WAIT_RESOLVE">待解决</a> </div> <div class="at-info-main"> <div class="ui list"> <div class="item ui segment" ng-repeat="question in questions"> <div class="content at-question-cont"> <div> <a class="ui teal tag label at-question-label-from">{{ question.category.name }}</a> </div> <div> <a class="at-question-title" href="#/question/{{question.id}}">{{ question.title }}</a> </div> <div class="description"> <p> {{ question.content }} </p> </div> </div> </div> </div> <observe totalitems="204" listsizes="5" itemsperpage="10"></observe> </div> </div> </div>'),a.put("views/usercenter/myresult.html",'<div class="ui grid"> <div class="four wide column usercenter-nav"> <div ng-include="\'../include/usernav.html\'"></div> </div> <div class="twelve wid usercenter-right"> <div class="ui items" ng-repeat="article in articles"> <div class="ui items segment at-article-item"> <div class="content"> <a class="header at-article-title" href="#/article/{{ article.id }}">{{ article.title }}</a> <div class="time"> <span>{{ article.whenCreated | date:\'yyyy-MM-dd HH:mm\' }}</span> </div> <div class="description"> <p style="max-height: 181px;overflow: hidden; line-height: 25px"> {{ article.content | replaceHtml}} </p> </div> <div class="at-expert-tag"> <a class="ui red label">{{ article.category.name }}</a> <a class="ui orange label">{{ article.tag }}</a> </div> </div> </div> </div> <observe totalitems="204" listsizes="5" itemsperpage="10"></observe> </div> </div>'),a.put("views/usercenter/mytrade.html",'<div class="ui grid"> <div class="four wide column usercenter-nav"> <div ng-include="\'../include/usernav.html\'"></div> </div> <div class="twelve wid usercenter-right"> <div class="ui secondary pointing menu"> <a ng-class="{true:\'item active\',false:\'item\'}[curStatus == \'AUDITED\']" href="#/usercenter/mytrade?status=AUDITED">已通过审核</a> <a ng-class="{true:\'item active\',false:\'item\'}[curStatus == \'WAIT_AUDITED\']" href="#/usercenter/mytrade?status=WAIT_AUDITED">待审核</a> <a ng-class="{true:\'item active\',false:\'item\'}[curStatus == \'FAILED\']" href="#/usercenter/mytrade?status=FAILED">未通过审核</a> </div> <div class="at-info-main"> <div class="ui list"> <div class="item ui segment" ng-repeat="trade in trades"> <div class="content at-question-cont"> <div> <a class="ui teal tag label at-question-label-from">{{ trade.category.name }}</a> </div> <div> <a class="at-question-title" href="#/trade/{{trade.id}}">{{ trade.title }}</a> </div> <div class="description"> <p> {{ trade.description }} </p> </div> </div> </div> </div> <observe totalitems="204" listsizes="5" itemsperpage="10"></observe> </div> </div> </div>'),a.put("views/usercenter/mytrend.html",'<div class="ui grid"> <div class="four wide column usercenter-nav"> <div ng-include="\'../include/usernav.html\'"></div> </div> <div class="twelve wid usercenter-right"> <div class="ui top attached tabular menu"> <a class="item active" data-tab="first">我的动态</a> </div> <div class="ui bottom attached tab segment active" data-tab="first"> <div class="column"> <form class="ui form"> <div class="at-post-content"> <div class="field"> <div class=""> <textarea name="name" ng-model="comment" rows="6" cols="40" placeholder="随便说点怎么吧"></textarea> </div> </div> <a class="ui button usercenter-trend-button" ng-click="addTrend()">发布</a> </div> </form> </div> </div> <div class="ui segment feed"> <!--<div class="event">--> <!--<div class="label">--> <!--<img src="http://semantic-ui.com/images/avatar/small/matt.jpg"></div>--> <!--<div class="content">--> <!--<div class="summary">--> <!--<a>Helen Troy</a>--> <!--增加--> <!--<a>2 新的 illustrations</a>--> <!--<div class="date">4 天前</div>--> <!--</div>--> <!--<div class="extra images">--> <!--<a>--> <!--<img src="http://semantic-ui.com/images/avatar/small/matt.jpg"></a>--> <!--<a>--> <!--<img src="http://semantic-ui.com/images/avatar/small/matt.jpg"></a>--> <!--</div>--> <!--<div class="meta">--> <!--<a class="like"> <i class="like icon"></i>--> <!--1 Like--> <!--</a>--> <!--</div>--> <!--</div>--> <!--</div>--> <div class="event" ng-repeat="trend in trends"> <div class="label"> <img src="{{ trend.user.avatar | showAvatar}}"></div> <div class="content"> <div class="summary"> <a>{{ trend.user.realName }}</a> 发布了动态 <div class="date">{{ trend.whenCreated | date:\'yyyy-MM-dd HH:mm\'}}</div> </div> <div class="extra text"> {{ trend.content }} </div> <!--<div class="meta">--> <!--<a class="like">--> <!--<i class="like icon"></i>--> <!--5 Likes--> <!--</a>--> <!--</div>--> </div> </div> </div> </div> </div> <script>$(\'.menu .item\')\n            .tab()\n    ;</script> <script type="text/javascript">$(\'.ui.dropdown\').dropdown();</script>'),a.put("views/usercenter/postarticle.html",'<style>.simditor {\n        width: 100% !important;\n    }</style> <div class="ui grid"> <div class="four wide column usercenter-nav"> <div ng-include="\'../include/usernav.html\'"></div> </div> <div class="twelve wid usercenter-right"> <div class="column"> <form class="ui form" ng-submit="addArticle()"> <div class="at-post-content"> <div class="field"> <label>文章标题</label> <div class="ui left input at-signup-text"> <input type="text" ng-model="title" placeholder="文章标题"> </div> </div> <div class="field"> <label>文章内容</label> <div class="ui left input at-signup-text"> <textarea id="editor" ng-model="content" placeholder="在此编辑文章" style="width: 100%" autofocus></textarea> </div> </div> <div class="field"> <label>文章标签</label> <div class="ui left input at-signup-text"> <input ng-model="tag" type="text" placeholder=""> </div> </div> <div class="field"> <label>文章分类</label> <input type="hiden" ng-hide="true" ng-model="categoryId" id="categoryId"> <div class="ui search selection dropdown remote example"> <i class="dropdown icon"></i> <div class="menu"> <div ng-repeat="category in categories" class="item" data-value="{{ category.id }}"> {{ category.name }} </div> </div> <div class="default text">选择分类</div> </div> </div> <div class="field"> <label>文章配图(选择上传图片)</label> <div class="upload-container" id="upload-container"> <input type="file" id="pickfiles" name="image"> </div> </div> <img style="max-width: 500px" src="{{ cateImage }}"> <center><input type="submit" class="fluid ui green submit button" value="提交"></center> </div> </form> </div> </div> </div> <script type="text/javascript">$(\'.ui.dropdown\').dropdown();\n    var editor = new Simditor({\n        textarea: $(\'#editor\'),\n        toolbar: [\n            \'title\',\n            \'bold\',\n            \'italic\',\n            \'underline\',\n            \'strikethrough\',\n            \'fontScale\',\n            \'color\',\n            \'ol\',\n            \'ul\',\n            \'blockquote\',\n            \'code\',\n            \'table\',\n            \'link\',\n            \'image\',\n            \'hr\',\n            \'indent\',\n            \'outdent\',\n            \'alignment\'\n        ]\n        //optional options\n    });</script>'),a.put("views/usercenter/postresult.html",'<style>.simditor {\n        width: 100% !important;\n    }</style> <div class="ui grid"> <div class="four wide column usercenter-nav"> <div ng-include="\'../include/usernav.html\'"></div> </div> <div class="twelve wid usercenter-right"> <div class="column"> <form class="ui form" ng-submit="addArticle()"> <div class="at-post-content"> <div class="field"> <label>成果标题</label> <div class="ui left input at-signup-text"> <input type="text" ng-model="title" placeholder="成果标题"> </div> </div> <div class="field"> <label>成果描述</label> <div class="ui left input at-signup-text"> <textarea id="editor" ng-model="content" placeholder="在此编辑成果描述" style="width: 100%" autofocus></textarea> </div> </div> <div class="field"> <label>成果标签</label> <div class="ui left input at-signup-text"> <input ng-model="tag" type="text" placeholder=""> </div> </div> <div class="field"> <label>成果分类</label> <input type="hiden" ng-hide="true" ng-model="categoryId" id="categoryId"> <div class="ui search selection dropdown remote example"> <i class="dropdown icon"></i> <div class="menu"> <div ng-repeat="category in categories" class="item" data-value="{{ category.id }}"> {{ category.name }} </div> </div> <div class="default text">选择分类</div> </div> </div> <div class="field"> <label>成果配图(只能上传一张)</label> <div class="upload-container" id="upload-container"> <input type="file" id="pickfiles" name="image"> </div> </div> <img style="max-width: 500px" src="{{ cateImage }}"> <center><input type="submit" class="fluid ui green submit button" value="发布"></center> </div> </form> </div> </div> </div> <script type="text/javascript">$(\'.ui.dropdown\').dropdown();\n    var editor = new Simditor({\n        textarea: $(\'#editor\'),\n        toolbar: [\n            \'title\',\n            \'bold\',\n            \'italic\',\n            \'underline\',\n            \'strikethrough\',\n            \'fontScale\',\n            \'color\',\n            \'ol\',\n            \'ul\',\n            \'blockquote\',\n            \'code\',\n            \'table\',\n            \'link\',\n            \'image\',\n            \'hr\',\n            \'indent\',\n            \'outdent\',\n            \'alignment\'\n        ]\n        //optional options\n    });</script>'),a.put("views/usercenter/profile.html",'<div class="ui grid"> <style>.cropArea {\n            background: #E4E4E4;\n            overflow: hidden;\n            width: 348px;\n            height: 200px;\n        }</style> <div class="four wide column usercenter-nav"> <div ng-include="\'../include/usernav.html\'"></div> </div> <div class="twelve wid usercenter-right"> <!-- <p>用户资料设置</p> --> <form class="ui form"> <div class="field"> <label>用户名</label> <div class="ui left icon input at-signup-text usercenter-input1"> <input type="text" ng-model="name" placeholder="用户名"> <i class="user icon"></i> </div> </div> <div class="field"> <label>真实姓名</label> <div class="ui left icon input at-signup-text usercenter-input1"> <input type="text" ng-model="realName" placeholder="真实姓名"> <i class="user icon"></i> </div> </div> <div class="field"> <label>地址</label> <div class="ui left icon input at-signup-text usercenter-input2"> <input type="text" ng-model="address" placeholder="地址"> <i class="home icon"></i> </div> </div> <div class="field"> <label>产业类型</label> <div class="ui left input at-signup-text usercenter-input2"> <input type="text" ng-model="industry"> </div> </div> <div class="field"> <label>产业规模</label> <div class="ui left input at-signup-text usercenter-input2"> <input type="text" ng-model="scale"> </div> </div> <div class="field" style="display: none"> <label>手机号（不可更改）：{{ phone }}</label> </div> <a class="ui green submit button" ng-click="saveProfile()">保存</a> </form> </div> </div> '),a.put("views/usercenter/uploadpic.html","<div ng-include=\"'../include/usernav.html'\"></div> <p>This is the usercenter/uploadPic view.</p>"),a.put("views/video.html",'<!-- <p>This is the video view.</p>\n--> <div class="ui at-home-article"> <div class="ui breadcrumb" id="at-expert-breadcrumb"> <a class="section">首页</a> <i class="right angle icon divider"></i> <a class="section">视频专区</a> </div> <div class="ui secondary pointing menu"> <a href="#/video?category=" ng-class="{true:\'item active\',false:\'item\'}[curCategoryId==\'\']">全部</a> <div ng-repeat="category in categories"> <a ng-class="{true:\'item active\',false:\'item\'}[category.id == curCategoryId]" href="#/video?category={{ category.id }}">{{ category.name }}</a> </div> </div> <div class="ui items"> <a class="item item-video" ng-repeat="video in videos" href="#/video/{{ video.id }}"> <div class="ui small image"> <img src="{{ video.thumbnail | showResource}}"> </div> <div class="content"> <div class="header">{{ video.name }}</div> <div class="meta"> <span class="price">发布者: {{ video.admin.name }}</span> <span class="stay">发布时间: {{ video.whenCreated | date:\'yyyy-MM-dd HH:mm\' }}</span> <span class="ui mini label">{{ video.category.name }}</span> </div> <div class="description"> <p> {{ video.description | replaceHtml}} </p> </div> </div> </a> <observe totalitems="204" listsizes="5" itemsperpage="10"></observe> </div> </div>'),a.put("views/video/info.html",'<div class="ui breadcrumb" id="at-expert-breadcrumb"> <a class="section">首页</a> <i class="right angle icon divider"></i> <a class="section">视频详情</a> </div> <div class="ui segment"> <h2 class="ui header centered">{{ video.name }}</h2> <hr id="deshed "> <div class="sub header at-cont-author centered">发布日期:{{ video.whenCreated | date:\'yyyy-MM-dd HH:mm\' }} &nbsp;&nbsp;&nbsp;发布者:{{ video.admin.name }}&nbsp;&nbsp;&nbsp;播放数: {{ video.clickCount }} </div> <div class="center" style="margin: auto"> <video id="my-video" src="{{resourceUrl | trustUrl}}" class="video-js" style="margin: auto" controls preload="auto" width="800" height="400" poster="{{ video.thumbnail | showResource}}" data-setup="{ &quot;controls&quot;: true, &quot;autoplay&quot;: false, &quot;preload&quot;: &quot;auto&quot; }"> <source src="{{resourceUrl | trustUrl}}" id="video-source" type="video/mp4"> <!--<source src="MY_VIDEO.webm" type=\'video/webm\'>--> <p class="vjs-no-js"> To view this video please enable JavaScript, and consider upgrading to a web browser that <a href="http://videojs.com/html5-video-support/" target="_blank">supports HTML5 video</a> </p> </source></video> </div> <div class="ui basic segment at-cont-segment"> <div data-ng-bind-html="video.description"></div> </div> </div>')}]);